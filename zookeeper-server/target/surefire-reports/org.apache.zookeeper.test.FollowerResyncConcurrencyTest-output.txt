2020-06-22 14:15:43,058 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-06-22 14:15:43,071 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-06-22 14:15:43,205 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testResyncByTxnlogThenDiffAfterFollowerCrashes
2020-06-22 14:15:43,224 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testResyncByTxnlogThenDiffAfterFollowerCrashes
2020-06-22 14:15:43,787 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBhuOoncGVi0fGagoGAAABctqrD/CAAQB4
2020-06-22 14:15:43,851 [myid:] - INFO  [main:PortAssignment@154] - Test process 5/8 using ports from 21993 - 24685.
2020-06-22 14:15:43,852 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21994 from range 21993 - 24685.
2020-06-22 14:15:43,859 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21995 from range 21993 - 24685.
2020-06-22 14:15:43,860 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21996 from range 21993 - 24685.
2020-06-22 14:15:43,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21997 from range 21993 - 24685.
2020-06-22 14:15:43,869 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21998 from range 21993 - 24685.
2020-06-22 14:15:43,869 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21999 from range 21993 - 24685.
2020-06-22 14:15:43,872 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22000 from range 21993 - 24685.
2020-06-22 14:15:43,873 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22001 from range 21993 - 24685.
2020-06-22 14:15:43,873 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22002 from range 21993 - 24685.
2020-06-22 14:15:43,874 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 21994
2020-06-22 14:15:43,889 [myid:] - INFO  [main:QuorumPeer@752] - zookeeper.quorumCnxnTimeoutMs=-1
2020-06-22 14:15:43,919 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:43,921 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:43,924 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:43,933 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21994
2020-06-22 14:15:43,947 [myid:] - INFO  [main:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2020-06-22 14:15:43,952 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:43,996 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-06-22 14:15:43,996 [myid:] - INFO  [main:ZookeeperBanner@42] -   ______                  _                                          
2020-06-22 14:15:43,996 [myid:] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |                                         
2020-06-22 14:15:43,997 [myid:] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2020-06-22 14:15:43,997 [myid:] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2020-06-22 14:15:43,998 [myid:] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2020-06-22 14:15:43,998 [myid:] - INFO  [main:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2020-06-22 14:15:43,999 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               | |                     
2020-06-22 14:15:43,999 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               |_|                     
2020-06-22 14:15:44,000 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-06-22 14:15:44,008 [myid:] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.6.1--9de128fcd2cb3170e738547b0603a1ba7049df48, built on 06/22/2020 06:04 GMT
2020-06-22 14:15:44,008 [myid:] - INFO  [main:Environment@98] - Server environment:host.name=LAPTOP-D7DF36F6
2020-06-22 14:15:44,009 [myid:] - INFO  [main:Environment@98] - Server environment:java.version=1.8.0_252
2020-06-22 14:15:44,009 [myid:] - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2020-06-22 14:15:44,010 [myid:] - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre
2020-06-22 14:15:44,011 [myid:] - INFO  [main:Environment@98] - Server environment:java.class.path=D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\test-classes;D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\classes;C:\Users\admin\.m2\repository\com\github\spotbugs\spotbugs-annotations\4.0.2\spotbugs-annotations-4.0.2.jar;C:\Users\admin\.m2\repository\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;C:\Users\admin\.m2\repository\org\hamcrest\hamcrest-all\1.3\hamcrest-all-1.3.jar;C:\Users\admin\.m2\repository\commons-collections\commons-collections\3.2.2\commons-collections-3.2.2.jar;C:\Users\admin\.m2\repository\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;D:\desktop\git_repo\zookeeper-read\zookeeper-jute\target\zookeeper-jute-3.6.1.jar;C:\Users\admin\.m2\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;C:\Users\admin\.m2\repository\org\apache\yetus\audience-annotations\0.5.0\audience-annotations-0.5.0.jar;C:\Users\admin\.m2\repository\io\netty\netty-handler\4.1.48.Final\netty-handler-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-common\4.1.48.Final\netty-common-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-resolver\4.1.48.Final\netty-resolver-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-buffer\4.1.48.Final\netty-buffer-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport\4.1.48.Final\netty-transport-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-codec\4.1.48.Final\netty-codec-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport-native-epoll\4.1.48.Final\netty-transport-native-epoll-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport-native-unix-common\4.1.48.Final\netty-transport-native-unix-common-4.1.48.Final.jar;C:\Users\admin\.m2\repository\org\slf4j\slf4j-api\1.7.25\slf4j-api-1.7.25.jar;C:\Users\admin\.m2\repository\org\slf4j\slf4j-log4j12\1.7.25\slf4j-log4j12-1.7.25.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-server\9.4.24.v20191120\jetty-server-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\javax\servlet\javax.servlet-api\3.1.0\javax.servlet-api-3.1.0.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-http\9.4.24.v20191120\jetty-http-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-util\9.4.24.v20191120\jetty-util-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-io\9.4.24.v20191120\jetty-io-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-servlet\9.4.24.v20191120\jetty-servlet-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-security\9.4.24.v20191120\jetty-security-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.10.3\jackson-databind-2.10.3.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.10.3\jackson-annotations-2.10.3.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.10.3\jackson-core-2.10.3.jar;C:\Users\admin\.m2\repository\com\googlecode\json-simple\json-simple\1.1.1\json-simple-1.1.1.jar;C:\Users\admin\.m2\repository\org\bouncycastle\bcprov-jdk15on\1.60\bcprov-jdk15on-1.60.jar;C:\Users\admin\.m2\repository\org\bouncycastle\bcpkix-jdk15on\1.60\bcpkix-jdk15on-1.60.jar;C:\Users\admin\.m2\repository\jline\jline\2.11\jline-2.11.jar;C:\Users\admin\.m2\repository\io\dropwizard\metrics\metrics-core\3.2.5\metrics-core-3.2.5.jar;C:\Users\admin\.m2\repository\log4j\log4j\1.2.17\log4j-1.2.17.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-core\2.0.0\kerb-core-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-pkix\2.0.0\kerby-pkix-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-asn1\2.0.0\kerby-asn1-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-util\2.0.0\kerby-util-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-simplekdc\2.0.0\kerb-simplekdc-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-client\2.0.0\kerb-client-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-common\2.0.0\kerb-common-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-crypto\2.0.0\kerb-crypto-2.0.0.jar;C:\Users\admin\.m2\repository\commons-io\commons-io\2.6\commons-io-2.6.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-util\2.0.0\kerb-util-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\token-provider\2.0.0\token-provider-2.0.0.jar;C:\Users\admin\.m2\repository\com\nimbusds\nimbus-jose-jwt\4.41.2\nimbus-jose-jwt-4.41.2.jar;C:\Users\admin\.m2\repository\com\github\stephenc\jcip\jcip-annotations\1.0-1\jcip-annotations-1.0-1.jar;C:\Users\admin\.m2\repository\net\minidev\json-smart\2.3\json-smart-2.3.jar;C:\Users\admin\.m2\repository\net\minidev\accessors-smart\1.2\accessors-smart-1.2.jar;C:\Users\admin\.m2\repository\org\ow2\asm\asm\5.0.4\asm-5.0.4.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-admin\2.0.0\kerb-admin-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-server\2.0.0\kerb-server-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-identity\2.0.0\kerb-identity-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-xdr\2.0.0\kerby-xdr-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-config\2.0.0\kerby-config-2.0.0.jar;C:\Users\admin\.m2\repository\org\mockito\mockito-core\2.27.0\mockito-core-2.27.0.jar;C:\Users\admin\.m2\repository\net\bytebuddy\byte-buddy\1.9.10\byte-buddy-1.9.10.jar;C:\Users\admin\.m2\repository\net\bytebuddy\byte-buddy-agent\1.9.10\byte-buddy-agent-1.9.10.jar;C:\Users\admin\.m2\repository\org\objenesis\objenesis\2.6\objenesis-2.6.jar;C:\Users\admin\.m2\repository\org\jmockit\jmockit\1.48\jmockit-1.48.jar;C:\Users\admin\.m2\repository\junit\junit\4.12\junit-4.12.jar;C:\Users\admin\.m2\repository\org\hamcrest\hamcrest-core\1.3\hamcrest-core-1.3.jar;C:\Users\admin\.m2\repository\org\xerial\snappy\snappy-java\1.1.7\snappy-java-1.1.7.jar;
2020-06-22 14:15:44,012 [myid:] - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:\Program Files (x86)\NetSarang\Xshell 6\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\bin;D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre\bin;D:\Program Files\Git\cmd;D:\Go\bin;D:\Program Files\nodejs\;C:\Users\admin\AppData\Local\Microsoft\WindowsApps;;D:\Programs\Microsoft VS Code\bin;C:\Users\admin\go\bin;C:\Users\admin\AppData\Roaming\npm;.
2020-06-22 14:15:44,013 [myid:] - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\admin\AppData\Local\Temp\
2020-06-22 14:15:44,013 [myid:] - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2020-06-22 14:15:44,014 [myid:] - INFO  [main:Environment@98] - Server environment:os.name=Windows 10
2020-06-22 14:15:44,014 [myid:] - INFO  [main:Environment@98] - Server environment:os.arch=amd64
2020-06-22 14:15:44,014 [myid:] - INFO  [main:Environment@98] - Server environment:os.version=10.0
2020-06-22 14:15:44,014 [myid:] - INFO  [main:Environment@98] - Server environment:user.name=admin
2020-06-22 14:15:44,015 [myid:] - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\admin
2020-06-22 14:15:44,015 [myid:] - INFO  [main:Environment@98] - Server environment:user.dir=D:\desktop\git_repo\zookeeper-read\zookeeper-server
2020-06-22 14:15:44,015 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=111MB
2020-06-22 14:15:44,015 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=455MB
2020-06-22 14:15:44,016 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=121MB
2020-06-22 14:15:44,016 [myid:] - INFO  [main:ZooKeeperServer@128] - zookeeper.enableEagerACLCheck = false
2020-06-22 14:15:44,016 [myid:] - INFO  [main:ZooKeeperServer@136] - zookeeper.digest.enabled = true
2020-06-22 14:15:44,016 [myid:] - INFO  [main:ZooKeeperServer@140] - zookeeper.closeSessionTxn.enabled = true
2020-06-22 14:15:44,017 [myid:] - INFO  [main:ZooKeeperServer@1434] - zookeeper.flushDelay=0
2020-06-22 14:15:44,017 [myid:] - INFO  [main:ZooKeeperServer@1443] - zookeeper.maxWriteQueuePollTime=0
2020-06-22 14:15:44,017 [myid:] - INFO  [main:ZooKeeperServer@1452] - zookeeper.maxBatchSize=1000
2020-06-22 14:15:44,017 [myid:] - INFO  [main:ZooKeeperServer@241] - zookeeper.intBufferStartingSizeBytes = 1024
2020-06-22 14:15:44,030 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,030 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,031 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:44,031 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:44,032 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:44,037 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 21997
2020-06-22 14:15:44,037 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:44,038 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:44,038 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:44,041 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21997
2020-06-22 14:15:44,043 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:44,044 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,044 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,045 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:44,045 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:44,045 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:44,046 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22000
2020-06-22 14:15:44,046 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:44,046 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:44,046 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:44,049 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22000
2020-06-22 14:15:44,050 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:44,051 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,052 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:44,052 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:44,052 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:44,053 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:44,053 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:15:44,055 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:15:44,055 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:15:44,056 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:15:44,056 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:15:44,057 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:15:44,057 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:15:44,060 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:15:44,060 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:15:44,063 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:46,495 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:21994 is no longer accepting client connections
2020-06-22 14:15:46,496 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21997
2020-06-22 14:15:48,790 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:21997 is no longer accepting client connections
2020-06-22 14:15:48,790 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22000
2020-06-22 14:15:50,995 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22000 is no longer accepting client connections
2020-06-22 14:15:50,995 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 21994
2020-06-22 14:15:50,996 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:50,996 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:50,996 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:50,999 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21994
2020-06-22 14:15:51,001 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:51,003 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,003 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,003 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:51,004 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:51,004 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,035 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:15:51,045 [myid:] - INFO  [main:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2020-06-22 14:15:51,046 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2\snapshot.0
2020-06-22 14:15:51,052 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 47 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:15:51,053 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,058 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,063 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:15:51,073 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:15:51,076 [myid:] - INFO  [main:FastLeaderElection@88] - zookeeper.fastleader.minNotificationInterval=200
2020-06-22 14:15:51,076 [myid:] - INFO  [main:FastLeaderElection@90] - zookeeper.fastleader.maxNotificationInterval=60000
2020-06-22 14:15:51,080 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2020-06-22 14:15:51,080 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 21997
2020-06-22 14:15:51,081 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:51,081 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:51,081 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:51,084 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21997
2020-06-22 14:15:51,086 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:51,086 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,087 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,087 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:51,087 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:51,087 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,088 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:15:51,088 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1770450365890073175.junit.dir\version-2\snapshot.0
2020-06-22 14:15:51,090 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:15:51,090 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:15:51,091 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:21996
2020-06-22 14:15:51,093 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:15:51,093 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,097 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:15:51,098 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:15:51,098 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2020-06-22 14:15:51,099 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22000
2020-06-22 14:15:51,099 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:51,099 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:51,099 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:21999
2020-06-22 14:15:51,100 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:51,100 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:15:51,101 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:15:51,102 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22000
2020-06-22 14:15:51,104 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:51,104 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,104 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,105 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:51,105 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:51,105 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,106 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:15:51,106 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1212902378403078647.junit.dir\version-2\snapshot.0
2020-06-22 14:15:51,110 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:15:51,110 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,115 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:15:51,119 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:15:51,119 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:15:51,120 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2020-06-22 14:15:51,120 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:21994,127.0.0.1:21997,127.0.0.1:22000
2020-06-22 14:15:51,120 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:51,120 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,127 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64322
2020-06-22 14:15:51,130 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22002
2020-06-22 14:15:51,130 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-22 14:15:51,130 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64324
2020-06-22 14:15:51,132 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64323
2020-06-22 14:15:51,138 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:15:51,139 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:15:51,133 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,132 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:15:51,140 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:15:51,141 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64325
2020-06-22 14:15:51,145 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64327
2020-06-22 14:15:51,146 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2020-06-22 14:15:51,146 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@224] - The list of enabled four letter word commands is : [[wchs, stat, wchp, dirs, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, telnet close, crst, hash, cons]]
2020-06-22 14:15:51,146 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64321
2020-06-22 14:15:51,151 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,156 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:15:51,156 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,157 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:51,159 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:15:51,160 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64330
2020-06-22 14:15:51,155 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1285] - Exception when using channel: for id 1 my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1278)
2020-06-22 14:15:51,161 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:15:51,155 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,161 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,160 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64326
2020-06-22 14:15:51,159 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,163 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:15:51,165 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,165 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,169 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,171 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,171 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,172 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,174 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,181 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,182 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,181 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,385 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:15:51,385 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:15:51,385 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:15:51,385 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:15:51,387 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:15:51,387 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):LearnerMaster@47] - zookeeper.leader.maxConcurrentSnapSyncs = 10
2020-06-22 14:15:51,388 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:15:51,388 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):LearnerMaster@50] - zookeeper.leader.maxConcurrentDiffSyncs = 100
2020-06-22 14:15:51,388 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@84] - TCP NoDelay set to: true
2020-06-22 14:15:51,388 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@105] - zookeeper.leader.ackLoggingFrequency = 1000
2020-06-22 14:15:51,388 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@1351] - zookeeper.leader.maxTimeToWaitForEpoch = -1ms
2020-06-22 14:15:51,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@117] - leaderConnectDelayDuringRetryMs: 100
2020-06-22 14:15:51,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@118] - TCP NoDelay set to: true
2020-06-22 14:15:51,391 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2020-06-22 14:15:51,392 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:15:51,392 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:15:51,392 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:15:51,393 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:15:51,392 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:15:51,393 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,395 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:15:51,397 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:15:51,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:15:51,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:15:51,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:15:51,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1212902378403078647.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1212902378403078647.junit.dir\version-2
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:15:51,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2
2020-06-22 14:15:51,402 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1770450365890073175.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1770450365890073175.junit.dir\version-2
2020-06-22 14:15:51,404 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 311 MS
2020-06-22 14:15:51,404 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 303 MS
2020-06-22 14:15:51,407 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:15:51,407 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:15:51,409 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 269 MS
2020-06-22 14:15:51,410 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22001:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22001
2020-06-22 14:15:51,410 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22001:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22001
2020-06-22 14:15:51,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:15:51,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test1212902378403078647.junit.dir\version-2\snapshot.0
2020-06-22 14:15:51,414 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-06-22 14:15:51,417 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:51,418 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64344
2020-06-22 14:15:51,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64342:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:21996:participant;127.0.0.1:21994
2020-06-22 14:15:51,426 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64343:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21998:21999:participant;127.0.0.1:21997
2020-06-22 14:15:51,432 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,434 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64343:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:15:51,434 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64342:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:15:51,434 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64343:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:15:51,434 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64343:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-06-22 14:15:51,435 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64342:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:15:51,435 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64342:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:15:51,436 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:15:51,436 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:15:51,438 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:15:51,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:15:51,438 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:15:51,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:15:51,438 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:15:51,450 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:15:51,450 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:15:51,451 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,451 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,454 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3],[1, 3]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:15:51,462 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:15:51,462 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:15:51,471 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:15:51,472 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000
2020-06-22 14:15:51,491 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:15:51,491 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:15:51,491 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:15:51,492 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:15:51,497 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:15:51,497 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:15:51,670 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:51,671 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64349
2020-06-22 14:15:51,673 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-06-22 14:15:51,674 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:21994 is accepting client connections
2020-06-22 14:15:51,674 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21997
2020-06-22 14:15:51,681 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64350
2020-06-22 14:15:51,682 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:15:51,684 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:21997 is accepting client connections
2020-06-22 14:15:51,684 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22000
2020-06-22 14:15:51,686 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64351
2020-06-22 14:15:51,686 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:15:51,687 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22000 is accepting client connections
2020-06-22 14:15:51,688 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:15:51,696 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:64343",name5="id:2"
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:15:51,697 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:15:51,698 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:15:51,698 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2020-06-22 14:15:51,698 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:15:51,698 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-06-22 14:15:51,698 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:64342",name5="id:1"
2020-06-22 14:15:51,701 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-06-22 14:15:51,702 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:15:51,702 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-06-22 14:15:51,703 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:15:51,703 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-06-22 14:15:51,703 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:15:51,703 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:15:51,704 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:15:51,705 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:15:51,706 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:15:51,706 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:15:51,706 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:15:51,706 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:15:51,706 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:64343",name5="id:2"
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-06-22 14:15:51,707 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:15:51,708 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-06-22 14:15:51,708 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:15:51,708 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@220] - Connecting to follower: 1
2020-06-22 14:15:51,708 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:15:51,709 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:15:51,709 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:15:51,709 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:15:51,709 [myid:] - ERROR [LearnerHandler-/127.0.0.1:64342:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:15:51,709 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:15:51,710 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64342:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64342 ********
2020-06-22 14:15:51,710 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:15:51,711 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22001). Was connected for 297ms. Sync state: true
2020-06-22 14:15:51,711 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:15:51,711 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:15:51,712 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:15:51,712 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:15:51,712 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:15:51,713 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:15:51,712 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:15:51,714 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:15:51,715 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:15:51,715 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:15:51,715 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:15:51,715 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:15:51,716 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:15:51,716 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:15:51,716 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:15:51,717 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:15:51,717 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:21994:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:15:51,718 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:15:51,719 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,720 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:51,720 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,720 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:15:51,719 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,721 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:15:51,719 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:51,719 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:51,722 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:15:51,722 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:51,721 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled) to exit thread
2020-06-22 14:15:51,721 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:15:51,721 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:15:51,720 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:15:51,723 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:15:51,723 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:15:51,724 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:51,725 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:15:51,731 [myid:] - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.6.1--9de128fcd2cb3170e738547b0603a1ba7049df48, built on 06/22/2020 06:04 GMT
2020-06-22 14:15:51,731 [myid:] - INFO  [main:Environment@98] - Client environment:host.name=LAPTOP-D7DF36F6
2020-06-22 14:15:51,731 [myid:] - INFO  [main:Environment@98] - Client environment:java.version=1.8.0_252
2020-06-22 14:15:51,732 [myid:] - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2020-06-22 14:15:51,732 [myid:] - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre
2020-06-22 14:15:51,732 [myid:] - INFO  [main:Environment@98] - Client environment:java.class.path=D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\test-classes;D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\classes;C:\Users\admin\.m2\repository\com\github\spotbugs\spotbugs-annotations\4.0.2\spotbugs-annotations-4.0.2.jar;C:\Users\admin\.m2\repository\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;C:\Users\admin\.m2\repository\org\hamcrest\hamcrest-all\1.3\hamcrest-all-1.3.jar;C:\Users\admin\.m2\repository\commons-collections\commons-collections\3.2.2\commons-collections-3.2.2.jar;C:\Users\admin\.m2\repository\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;D:\desktop\git_repo\zookeeper-read\zookeeper-jute\target\zookeeper-jute-3.6.1.jar;C:\Users\admin\.m2\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;C:\Users\admin\.m2\repository\org\apache\yetus\audience-annotations\0.5.0\audience-annotations-0.5.0.jar;C:\Users\admin\.m2\repository\io\netty\netty-handler\4.1.48.Final\netty-handler-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-common\4.1.48.Final\netty-common-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-resolver\4.1.48.Final\netty-resolver-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-buffer\4.1.48.Final\netty-buffer-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport\4.1.48.Final\netty-transport-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-codec\4.1.48.Final\netty-codec-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport-native-epoll\4.1.48.Final\netty-transport-native-epoll-4.1.48.Final.jar;C:\Users\admin\.m2\repository\io\netty\netty-transport-native-unix-common\4.1.48.Final\netty-transport-native-unix-common-4.1.48.Final.jar;C:\Users\admin\.m2\repository\org\slf4j\slf4j-api\1.7.25\slf4j-api-1.7.25.jar;C:\Users\admin\.m2\repository\org\slf4j\slf4j-log4j12\1.7.25\slf4j-log4j12-1.7.25.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-server\9.4.24.v20191120\jetty-server-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\javax\servlet\javax.servlet-api\3.1.0\javax.servlet-api-3.1.0.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-http\9.4.24.v20191120\jetty-http-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-util\9.4.24.v20191120\jetty-util-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-io\9.4.24.v20191120\jetty-io-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-servlet\9.4.24.v20191120\jetty-servlet-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\org\eclipse\jetty\jetty-security\9.4.24.v20191120\jetty-security-9.4.24.v20191120.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.10.3\jackson-databind-2.10.3.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.10.3\jackson-annotations-2.10.3.jar;C:\Users\admin\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.10.3\jackson-core-2.10.3.jar;C:\Users\admin\.m2\repository\com\googlecode\json-simple\json-simple\1.1.1\json-simple-1.1.1.jar;C:\Users\admin\.m2\repository\org\bouncycastle\bcprov-jdk15on\1.60\bcprov-jdk15on-1.60.jar;C:\Users\admin\.m2\repository\org\bouncycastle\bcpkix-jdk15on\1.60\bcpkix-jdk15on-1.60.jar;C:\Users\admin\.m2\repository\jline\jline\2.11\jline-2.11.jar;C:\Users\admin\.m2\repository\io\dropwizard\metrics\metrics-core\3.2.5\metrics-core-3.2.5.jar;C:\Users\admin\.m2\repository\log4j\log4j\1.2.17\log4j-1.2.17.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-core\2.0.0\kerb-core-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-pkix\2.0.0\kerby-pkix-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-asn1\2.0.0\kerby-asn1-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-util\2.0.0\kerby-util-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-simplekdc\2.0.0\kerb-simplekdc-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-client\2.0.0\kerb-client-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-common\2.0.0\kerb-common-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-crypto\2.0.0\kerb-crypto-2.0.0.jar;C:\Users\admin\.m2\repository\commons-io\commons-io\2.6\commons-io-2.6.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-util\2.0.0\kerb-util-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\token-provider\2.0.0\token-provider-2.0.0.jar;C:\Users\admin\.m2\repository\com\nimbusds\nimbus-jose-jwt\4.41.2\nimbus-jose-jwt-4.41.2.jar;C:\Users\admin\.m2\repository\com\github\stephenc\jcip\jcip-annotations\1.0-1\jcip-annotations-1.0-1.jar;C:\Users\admin\.m2\repository\net\minidev\json-smart\2.3\json-smart-2.3.jar;C:\Users\admin\.m2\repository\net\minidev\accessors-smart\1.2\accessors-smart-1.2.jar;C:\Users\admin\.m2\repository\org\ow2\asm\asm\5.0.4\asm-5.0.4.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-admin\2.0.0\kerb-admin-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-server\2.0.0\kerb-server-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerb-identity\2.0.0\kerb-identity-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-xdr\2.0.0\kerby-xdr-2.0.0.jar;C:\Users\admin\.m2\repository\org\apache\kerby\kerby-config\2.0.0\kerby-config-2.0.0.jar;C:\Users\admin\.m2\repository\org\mockito\mockito-core\2.27.0\mockito-core-2.27.0.jar;C:\Users\admin\.m2\repository\net\bytebuddy\byte-buddy\1.9.10\byte-buddy-1.9.10.jar;C:\Users\admin\.m2\repository\net\bytebuddy\byte-buddy-agent\1.9.10\byte-buddy-agent-1.9.10.jar;C:\Users\admin\.m2\repository\org\objenesis\objenesis\2.6\objenesis-2.6.jar;C:\Users\admin\.m2\repository\org\jmockit\jmockit\1.48\jmockit-1.48.jar;C:\Users\admin\.m2\repository\junit\junit\4.12\junit-4.12.jar;C:\Users\admin\.m2\repository\org\hamcrest\hamcrest-core\1.3\hamcrest-core-1.3.jar;C:\Users\admin\.m2\repository\org\xerial\snappy\snappy-java\1.1.7\snappy-java-1.1.7.jar;
2020-06-22 14:15:51,732 [myid:] - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:\Program Files (x86)\NetSarang\Xshell 6\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\bin;D:\Program Files\RedHat\java-1.8.0-openjdk-1.8.0.252-2\jre\bin;D:\Program Files\Git\cmd;D:\Go\bin;D:\Program Files\nodejs\;C:\Users\admin\AppData\Local\Microsoft\WindowsApps;;D:\Programs\Microsoft VS Code\bin;C:\Users\admin\go\bin;C:\Users\admin\AppData\Roaming\npm;.
2020-06-22 14:15:51,732 [myid:] - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\admin\AppData\Local\Temp\
2020-06-22 14:15:51,733 [myid:] - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2020-06-22 14:15:51,733 [myid:] - INFO  [main:Environment@98] - Client environment:os.name=Windows 10
2020-06-22 14:15:51,733 [myid:] - INFO  [main:Environment@98] - Client environment:os.arch=amd64
2020-06-22 14:15:51,733 [myid:] - INFO  [main:Environment@98] - Client environment:os.version=10.0
2020-06-22 14:15:51,733 [myid:] - INFO  [main:Environment@98] - Client environment:user.name=admin
2020-06-22 14:15:51,734 [myid:] - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\admin
2020-06-22 14:15:51,734 [myid:] - INFO  [main:Environment@98] - Client environment:user.dir=D:\desktop\git_repo\zookeeper-read\zookeeper-server
2020-06-22 14:15:51,734 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.free=109MB
2020-06-22 14:15:51,734 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.max=455MB
2020-06-22 14:15:51,734 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.total=121MB
2020-06-22 14:15:51,738 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@3439f68d
2020-06-22 14:15:51,745 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:15:51,754 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:15:51,764 [myid:127.0.0.1:22000] - INFO  [main-SendThread(127.0.0.1:22000):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22000.
2020-06-22 14:15:51,764 [myid:127.0.0.1:22000] - INFO  [main-SendThread(127.0.0.1:22000):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:15:51,765 [myid:127.0.0.1:22000] - INFO  [main-SendThread(127.0.0.1:22000):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64354, server: activate.navicat.com/127.0.0.1:22000
2020-06-22 14:15:51,775 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:15:51,775 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:15:51,776 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:15:51,779 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x30015f1e32c0000
2020-06-22 14:15:51,779 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x30015f1e32c0000
2020-06-22 14:15:51,785 [myid:] - INFO  [CommitProcessor:3:ZKAuditProvider@42] - ZooKeeper audit is disabled.
2020-06-22 14:15:51,790 [myid:127.0.0.1:22000] - INFO  [main-SendThread(127.0.0.1:22000):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22000, session id = 0x30015f1e32c0000, negotiated timeout = 30000
2020-06-22 14:15:51,793 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@225] - zk3 has session id 0x30015f1e32c0000
2020-06-22 14:15:51,814 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 21994
2020-06-22 14:15:51,815 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:15:51,815 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:15:51,815 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:15:51,817 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21994
2020-06-22 14:15:51,818 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:15:51,819 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,819 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,819 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:15:51,819 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:15:51,820 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,821 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2\snapshot.0
2020-06-22 14:15:51,822 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:15:51,823 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:15:51,824 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:15:51,824 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:15:51,825 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:51,826 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:21996
2020-06-22 14:15:51,826 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:15:51,827 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64362
2020-06-22 14:15:51,827 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:15:51,828 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,829 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64363
2020-06-22 14:15:51,830 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:15:51,830 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64364
2020-06-22 14:15:51,830 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:15:51,831 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64365
2020-06-22 14:15:51,832 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64366
2020-06-22 14:15:51,832 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,832 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,835 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,835 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,835 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,836 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:15:51,836 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:15:51,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:15:51,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:15:51,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:15:51,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:15:51,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:15:51,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2
2020-06-22 14:15:51,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 12 MS
2020-06-22 14:15:51,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:15:51,840 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22001:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22001
2020-06-22 14:15:51,842 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64367:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:21996:participant;127.0.0.1:21994
2020-06-22 14:15:51,842 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64367:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 1000.0
2020-06-22 14:15:51,842 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:15:51,843 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64367:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x0
2020-06-22 14:15:51,844 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64367:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-06-22 14:15:51,845 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64367:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000002, send zxid of db as 0x100000002, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-22 14:15:51,845 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-06-22 14:15:51,845 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@516] - Getting a snapshot from leader 0x100000002
2020-06-22 14:15:51,845 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,846 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:15:51,848 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:15:51,849 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:15:51,849 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000002 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2\snapshot.100000002
2020-06-22 14:15:51,851 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-06-22 14:15:51,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:15:51,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:15:51,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:15:51,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:15:51,856 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:15:52,077 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:15:52,078 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64369
2020-06-22 14:15:52,078 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:15:52,079 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:21994 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@3bd94634
2020-06-22 14:15:52,080 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:15:52,081 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:15:52,082 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:15:52,082 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:15:52,083 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64372, server: activate.navicat.com/127.0.0.1:21994
2020-06-22 14:15:52,086 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@170] - Got zxid 0x100000003 expected 0x1
2020-06-22 14:15:52,087 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000003
2020-06-22 14:15:52,088 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f1e4b40000
2020-06-22 14:15:52,089 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f1e4b40000
2020-06-22 14:15:52,088 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f1e4b40000
2020-06-22 14:15:52,090 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:21994, session id = 0x10015f1e4b40000, negotiated timeout = 30000
2020-06-22 14:15:52,091 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@232] - zk1 has session id 0x10015f1e4b40000
2020-06-22 14:15:52,091 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:21994 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@74294adb
2020-06-22 14:15:52,092 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:15:52,092 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:15:52,094 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:15:52,094 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:15:52,095 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64375, server: activate.navicat.com/127.0.0.1:21994
2020-06-22 14:15:52,098 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f1e4b40001
2020-06-22 14:15:52,098 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f1e4b40001
2020-06-22 14:15:52,098 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f1e4b40001
2020-06-22 14:15:52,099 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:21994, session id = 0x10015f1e4b40001, negotiated timeout = 30000
2020-06-22 14:15:52,099 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@235] - zk2 has session id 0x10015f1e4b40001
2020-06-22 14:15:54,173 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:15:54,188 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:15:57,171 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:15:57,171 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:15:57,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22001). Was connected for 5331ms. Sync state: true
2020-06-22 14:15:57,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:15:57,172 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40000 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f1e4b40000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:15:57,173 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40001 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f1e4b40001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:15:57,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:15:57,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-06-22 14:15:57,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestThrottler@244] - Shutting down
2020-06-22 14:15:57,172 [myid:] - ERROR [LearnerHandler-/127.0.0.1:64367:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:15:57,173 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64367:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64367 ********
2020-06-22 14:15:57,173 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:15:57,173 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:15:57,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:15:57,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@617] - Shutting down
2020-06-22 14:15:57,173 [myid:] - WARN  [Sender-/127.0.0.1:64367:LearnerHandler@361] - Unexpected exception at LearnerHandler Socket[addr=/127.0.0.1,port=64367,localport=22001] tickOfNextAckDeadline:5 synced?:true queuedPacketLength:1
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.LearnerHandler.sendPackets(LearnerHandler.java:324)
	at org.apache.zookeeper.server.quorum.LearnerHandler.access$200(LearnerHandler.java:62)
	at org.apache.zookeeper.server.quorum.LearnerHandler$1.run(LearnerHandler.java:746)
2020-06-22 14:15:57,174 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:15:57,174 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@65] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:168)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:63)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:249)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:169)
2020-06-22 14:15:57,174 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:15:57,174 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:15:57,176 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@65] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:168)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:63)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:249)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:169)
2020-06-22 14:15:57,192 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FileTxnSnapLog@363] - 12 txns loaded in 1 ms
2020-06-22 14:15:57,193 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-06-22 14:15:57,193 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:15:57,193 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:15:57,193 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:15:57,193 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:15:57,194 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:15:57,194 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:15:57,194 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:21994:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:15:57,194 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:15:57,196 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:15:57,198 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:57,200 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:15:57,198 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:57,200 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:57,200 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:15:57,198 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:57,201 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:15:57,198 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:57,202 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:15:57,199 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:15:57,199 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:15:57,203 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:15:57,202 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled) to exit thread
2020-06-22 14:15:57,204 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:57,204 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:15:57,202 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:15:57,204 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:15:57,200 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:15:57,204 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@294] - Shutting down s1
2020-06-22 14:15:57,832 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:15:57,839 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:15:58,469 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:15:58,469 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:15:59,247 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:15:59,247 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:00,474 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40000 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:16:01,254 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40001 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:16:01,987 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:16:01,988 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:02,474 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:16:02,474 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:03,993 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40000 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:16:04,245 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@302] - Restarting follower: 1
2020-06-22 14:16:04,246 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 21994
2020-06-22 14:16:04,246 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:04,246 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:04,246 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:04,249 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21994
2020-06-22 14:16:04,251 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:04,252 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:04,252 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:04,252 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:04,253 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:04,253 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:04,254 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2\snapshot.100000002
2020-06-22 14:16:04,254 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:16:04,340 [myid:] - INFO  [main:FileTxnSnapLog@363] - 4149 txns loaded in 85 ms
2020-06-22 14:16:04,341 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 88 ms, highest zxid is 0x100001037, digest is 8815590520953
2020-06-22 14:16:04,344 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:04,346 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:04,349 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:16:04,354 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:21996
2020-06-22 14:16:04,354 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64863
2020-06-22 14:16:04,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:04,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100001037
2020-06-22 14:16:04,357 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001037, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,361 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64864
2020-06-22 14:16:04,361 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:16:04,363 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64865
2020-06-22 14:16:04,363 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:16:04,363 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64866
2020-06-22 14:16:04,364 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64867
2020-06-22 14:16:04,370 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,370 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001037, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,370 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001037, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,370 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,371 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:16:04,371 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:04,372 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2
2020-06-22 14:16:04,373 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 18 MS
2020-06-22 14:16:04,373 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,374 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:04,374 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:16:04,383 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22001:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22001
2020-06-22 14:16:04,386 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64868:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:21996:participant;127.0.0.1:21994
2020-06-22 14:16:04,386 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64868:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 1000.0
2020-06-22 14:16:04,386 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:16:04,386 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64868:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100002f13 minCommittedLog=0x100002d1f lastProcessedZxid=0x100002f13 peerLastZxid=0x100001037
2020-06-22 14:16:04,387 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64868:LearnerHandler@877] - Use txnlog and committedLog for peer sid: 1
2020-06-22 14:16:04,403 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64868:LearnerHandler@972] - Sending DIFF zxid=0x100002f13  for peer sid: 1
2020-06-22 14:16:04,436 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@511] - Getting a diff from the leader 0x100002f13
2020-06-22 14:16:04,436 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:16:04,438 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@577] - Got zxid 0x100001038 expected 0x1
2020-06-22 14:16:04,471 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:16:04,471 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:04,474 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:16:04,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:16:04,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:04,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:04,476 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100001038
2020-06-22 14:16:04,477 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64784, server: activate.navicat.com/127.0.0.1:21994
2020-06-22 14:16:04,478 [myid:] - INFO  [NIOWorkerThread-2:Learner@137] - Revalidating client: 0x10015f1e4b40001
2020-06-22 14:16:04,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:16:04,487 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:21994, session id = 0x10015f1e4b40001, negotiated timeout = 30000
2020-06-22 14:16:04,488 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@170] - Got zxid 0x100002f60 expected 0x1
2020-06-22 14:16:04,606 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:16:04,607 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64876
2020-06-22 14:16:04,607 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:16:04,910 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@305] - Shutdown follower: 1
2020-06-22 14:16:04,911 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:16:04,911 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:04,912 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:04,912 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:04,912 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:04,913 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1272] - Session 0x10015f1e4b40001 for sever activate.navicat.com/127.0.0.1:21994, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f1e4b40001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:16:04,912 [myid:] - ERROR [LearnerHandler-/127.0.0.1:64868:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:16:04,914 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64868:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64868 ********
2020-06-22 14:16:04,912 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:04,913 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22001). Was connected for 528ms. Sync state: true
2020-06-22 14:16:04,915 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:04,915 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:04,915 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:04,915 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:04,916 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:04,916 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:04,916 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:04,916 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:04,936 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:04,937 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:04,937 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:04,938 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:04,939 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:04,939 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:04,939 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:21994:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:04,939 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:04,944 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:04,945 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:04,947 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:04,949 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:04,949 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:16:04,950 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:16:04,951 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled) to exit thread
2020-06-22 14:16:04,949 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:04,953 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:16:04,949 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:04,953 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:16:04,949 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:16:04,947 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:04,947 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:04,954 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:16:04,951 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:04,954 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:16:04,954 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:16:04,955 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:04,957 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:16:05,256 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@308] - Restarting follower: 1
2020-06-22 14:16:05,257 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 21994
2020-06-22 14:16:05,258 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:05,258 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:05,259 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:05,264 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:21994
2020-06-22 14:16:05,268 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:05,271 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:05,272 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:05,272 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:05,272 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:05,273 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:05,275 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2\snapshot.100000002
2020-06-22 14:16:05,277 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:16:05,447 [myid:] - INFO  [main:FileTxnSnapLog@363] - 12225 txns loaded in 168 ms
2020-06-22 14:16:05,447 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 173 ms, highest zxid is 0x100002fc3, digest is 26062690181567
2020-06-22 14:16:05,449 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:05,451 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:05,451 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:16:05,454 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:21996
2020-06-22 14:16:05,456 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64913
2020-06-22 14:16:05,458 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:05,458 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100002fc3
2020-06-22 14:16:05,460 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002fc3, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,461 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64914
2020-06-22 14:16:05,462 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:16:05,467 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64915
2020-06-22 14:16:05,467 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64916
2020-06-22 14:16:05,468 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:16:05,471 [myid:] - INFO  [ListenerHandler-/127.0.0.1:21996:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:64917
2020-06-22 14:16:05,480 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,482 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002fc3, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,483 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002fc3, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,483 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,483 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,483 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:16:05,485 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:05,485 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:16:05,485 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:05,486 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4126441204615330862.junit.dir\version-2
2020-06-22 14:16:05,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 29 MS
2020-06-22 14:16:05,488 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:16:05,489 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22001:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22001
2020-06-22 14:16:05,492 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64918:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:21996:participant;127.0.0.1:21994
2020-06-22 14:16:05,493 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64918:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 1000.0
2020-06-22 14:16:05,493 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:16:05,493 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64918:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100002fff minCommittedLog=0x100002e0b lastProcessedZxid=0x100002fff peerLastZxid=0x100002fc3
2020-06-22 14:16:05,493 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64918:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-06-22 14:16:05,493 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64918:LearnerHandler@972] - Sending DIFF zxid=0x100002fff  for peer sid: 1
2020-06-22 14:16:05,497 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@511] - Getting a diff from the leader 0x100002fff
2020-06-22 14:16:05,497 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:16:05,498 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@577] - Got zxid 0x100002fc4 expected 0x1
2020-06-22 14:16:05,498 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:16:05,499 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:05,505 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:16:05,506 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:16:05,506 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:05,506 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:05,507 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:16:05,514 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100002fc4
2020-06-22 14:16:05,574 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@170] - Got zxid 0x100003000 expected 0x1
2020-06-22 14:16:05,707 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:16:05,708 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64931
2020-06-22 14:16:05,709 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:16:05,709 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@310] - Setting up server: 1
2020-06-22 14:16:06,029 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:16:06,029 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:06,030 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64946, server: activate.navicat.com/127.0.0.1:21994
2020-06-22 14:16:06,030 [myid:] - INFO  [NIOWorkerThread-3:Learner@137] - Revalidating client: 0x10015f1e4b40000
2020-06-22 14:16:06,032 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:21994, session id = 0x10015f1e4b40000, negotiated timeout = 30000
2020-06-22 14:16:06,705 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:21994.
2020-06-22 14:16:06,705 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:06,706 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64956, server: activate.navicat.com/127.0.0.1:21994
2020-06-22 14:16:06,747 [myid:] - INFO  [NIOWorkerThread-5:Learner@137] - Revalidating client: 0x10015f1e4b40001
2020-06-22 14:16:06,763 [myid:127.0.0.1:21994] - INFO  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:21994, session id = 0x10015f1e4b40001, negotiated timeout = 30000
2020-06-22 14:16:07,359 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:07,375 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:35,385 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@540] - Wait for pending requests: 9
2020-06-22 14:16:36,385 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@555] - Wait for server to sync
2020-06-22 14:16:36,385 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@594] - Verifying state
2020-06-22 14:16:36,385 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x10015f1e4b40001
2020-06-22 14:16:36,386 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x30015f1e32c0000
2020-06-22 14:16:36,417 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f1e4b40000
2020-06-22 14:16:36,526 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f1e4b40000 closed
2020-06-22 14:16:36,526 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f1e4b40000
2020-06-22 14:16:36,527 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f1e4b40001
2020-06-22 14:16:36,536 [myid:127.0.0.1:21994] - WARN  [main-SendThread(127.0.0.1:21994):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x10015f1e4b40001.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f1e4b40001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:16:36,639 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f1e4b40001 closed
2020-06-22 14:16:36,639 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f1e4b40001
2020-06-22 14:16:36,640 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x30015f1e32c0000
2020-06-22 14:16:36,925 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x30015f1e32c0000 closed
2020-06-22 14:16:36,925 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x30015f1e32c0000
2020-06-22 14:16:36,925 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:16:36,926 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:36,926 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:36,926 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:36,926 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:36,926 [myid:] - ERROR [LearnerHandler-/127.0.0.1:64918:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:16:36,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22001). Was connected for 31435ms. Sync state: true
2020-06-22 14:16:36,926 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:36,927 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64918:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64918 ********
2020-06-22 14:16:36,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:36,927 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:36,927 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:36,927 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:36,927 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:36,927 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:36,927 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:36,927 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:36,940 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:36,940 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:36,941 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:36,941 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:36,941 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:36,941 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:36,942 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:36,942 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:36,942 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:21994:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:36,943 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:36,943 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,944 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled)
2020-06-22 14:16:36,944 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,945 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:16:36,944 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,944 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,944 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,944 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,946 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:16:36,945 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:16:36,945 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:16:36,945 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:16:36,945 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:21994)(secure=disabled) to exit thread
2020-06-22 14:16:36,944 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:16:36,947 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled)
2020-06-22 14:16:36,947 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,948 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,948 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:36,949 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:16:36,949 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:16:36,949 [myid:] - ERROR [LearnerHandler-/127.0.0.1:64343:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:16:36,949 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:36,949 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:36,950 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64343:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64343 ********
2020-06-22 14:16:36,950 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22001). Was connected for 45537ms. Sync state: true
2020-06-22 14:16:36,950 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:36,950 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:36,950 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:36,950 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:36,951 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:36,951 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:36,951 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:36,951 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:36,951 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:36,951 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:36,989 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:36,989 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:36,989 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:36,989 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:36,990 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:36,990 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:36,990 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:36,990 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:21997:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:36,990 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:36,990 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:36,991 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,991 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,991 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:36,992 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:16:36,991 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled)
2020-06-22 14:16:36,991 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:16:36,992 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:21997)(secure=disabled) to exit thread
2020-06-22 14:16:36,993 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:36,992 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:16:36,993 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:16:36,993 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled)
2020-06-22 14:16:36,993 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:16:36,993 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:16:36,994 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:36,994 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22001:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:36,994 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:36,994 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:36,994 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:36,994 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:16:36,994 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:16:36,995 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:16:36,995 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:16:36,995 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:16:36,995 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:36,995 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:36,995 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:16:36,995 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:36,996 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:36,996 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:37,023 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:37,023 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:37,023 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:37,023 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22000:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:37,024 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:16:37,025 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:37,025 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:16:37,025 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:37,025 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:37,026 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:37,026 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled)
2020-06-22 14:16:37,026 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22000)(secure=disabled) to exit thread
2020-06-22 14:16:37,026 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21994
2020-06-22 14:16:37,588 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:16:38,491 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:38,501 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:38,501 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:38,553 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:38,553 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:38,554 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:39,031 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:21994 is no longer accepting client connections
2020-06-22 14:16:39,031 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 21997
2020-06-22 14:16:41,035 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:21997 is no longer accepting client connections
2020-06-22 14:16:41,035 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22000
2020-06-22 14:16:43,039 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22000 is no longer accepting client connections
2020-06-22 14:16:43,043 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 129414
2020-06-22 14:16:43,044 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 21
2020-06-22 14:16:43,044 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testResyncByTxnlogThenDiffAfterFollowerCrashes
2020-06-22 14:16:43,044 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 82
2020-06-22 14:16:43,045 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testResyncByTxnlogThenDiffAfterFollowerCrashes
2020-06-22 14:16:43,045 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testResyncByTxnlogThenDiffAfterFollowerCrashes
2020-06-22 14:16:43,046 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testLaggingFollowerResyncsUnderNewEpoch
2020-06-22 14:16:43,046 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testLaggingFollowerResyncsUnderNewEpoch
2020-06-22 14:16:43,047 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBTt+7PdkX1qvGagoGAAABctqrD/CACwB4
2020-06-22 14:16:43,055 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22003 from range 21993 - 24685.
2020-06-22 14:16:43,055 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22004 from range 21993 - 24685.
2020-06-22 14:16:43,055 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22005 from range 21993 - 24685.
2020-06-22 14:16:43,057 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22006 from range 21993 - 24685.
2020-06-22 14:16:43,057 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22007 from range 21993 - 24685.
2020-06-22 14:16:43,057 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22008 from range 21993 - 24685.
2020-06-22 14:16:43,059 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22009 from range 21993 - 24685.
2020-06-22 14:16:43,059 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22010 from range 21993 - 24685.
2020-06-22 14:16:43,059 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22011 from range 21993 - 24685.
2020-06-22 14:16:43,059 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 22003
2020-06-22 14:16:43,059 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:43,059 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:43,060 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:43,061 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22003
2020-06-22 14:16:43,062 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:43,062 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,062 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,063 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:43,063 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:43,063 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:43,063 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 22006
2020-06-22 14:16:43,063 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:43,063 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:43,064 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:43,065 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-06-22 14:16:43,066 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:43,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,067 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:43,067 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:43,067 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:43,067 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22009
2020-06-22 14:16:43,067 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:43,067 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:43,068 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:43,069 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-06-22 14:16:43,069 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:43,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:43,070 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:43,070 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:43,070 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:43,070 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:16:43,071 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:16:43,072 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:16:43,072 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:16:43,072 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:45,075 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22003 is no longer accepting client connections
2020-06-22 14:16:45,075 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-06-22 14:16:47,078 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22006 is no longer accepting client connections
2020-06-22 14:16:47,078 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-06-22 14:16:49,085 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22009 is no longer accepting client connections
2020-06-22 14:16:49,085 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22003
2020-06-22 14:16:49,085 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:49,085 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:49,085 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:49,086 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22003
2020-06-22 14:16:49,087 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:49,087 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:49,088 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:49,088 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:49,088 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:49,088 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:49,088 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:16:49,089 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2\snapshot.0
2020-06-22 14:16:49,090 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:16:49,090 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:49,092 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:49,095 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:49,095 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:49,096 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22006
2020-06-22 14:16:49,096 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:49,096 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:49,096 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:49,097 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22005
2020-06-22 14:16:49,097 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:49,097 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:16:49,098 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-06-22 14:16:49,098 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,099 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:49,099 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:49,099 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:49,099 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:49,100 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:49,100 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:49,100 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:16:49,100 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2\snapshot.0
2020-06-22 14:16:49,101 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:16:49,102 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:49,104 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:49,107 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:49,107 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:49,107 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:49,108 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:49,108 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22008
2020-06-22 14:16:49,108 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:16:49,109 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50538
2020-06-22 14:16:49,110 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,111 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50539
2020-06-22 14:16:49,112 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,113 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,113 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,114 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:49,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:49,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:49,315 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:49,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:49,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:49,318 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:49,318 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:49,318 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2
2020-06-22 14:16:49,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-06-22 14:16:49,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:16:49,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2\snapshot.0
2020-06-22 14:16:49,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2
2020-06-22 14:16:49,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 224 MS
2020-06-22 14:16:49,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:16:49,324 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 5 ms
2020-06-22 14:16:49,324 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22007:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22007
2020-06-22 14:16:49,327 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50543:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22004:22005:participant;127.0.0.1:22003
2020-06-22 14:16:49,333 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:49,337 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:16:49,337 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50543:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:16:49,337 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50543:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:16:49,337 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50543:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:16:49,346 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:16:49,346 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:16:49,346 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:16:49,346 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:16:49,347 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:49,350 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:16:49,351 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:49,351 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:49,351 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:16:49,354 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:16:49,354 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:16:49,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:16:49,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:49,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:49,356 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:16:49,360 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:49,361 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50545
2020-06-22 14:16:49,361 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:16:49,363 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-06-22 14:16:49,365 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50546
2020-06-22 14:16:49,365 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:16:49,366 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22003 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@1372ed45
2020-06-22 14:16:49,368 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:16:49,368 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:16:49,370 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22003.
2020-06-22 14:16:49,370 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:49,370 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:50549, server: activate.navicat.com/127.0.0.1:22003
2020-06-22 14:16:49,373 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:16:49,373 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:16:49,374 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:16:49,377 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f2c54e0000
2020-06-22 14:16:49,377 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x10015f2c54e0000
2020-06-22 14:16:49,378 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22003, session id = 0x10015f2c54e0000, negotiated timeout = 30000
2020-06-22 14:16:49,378 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@109] - zk1 has session id 0x10015f2c54e0000
2020-06-22 14:16:49,383 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f2c54e0000
2020-06-22 14:16:49,487 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f2c54e0000 closed
2020-06-22 14:16:49,487 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f2c54e0000
2020-06-22 14:16:49,487 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled)
2020-06-22 14:16:49,488 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:49,488 [myid:] - ERROR [LearnerHandler-/127.0.0.1:50543:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:16:49,488 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:49,488 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:49,489 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22007). Was connected for 164ms. Sync state: true
2020-06-22 14:16:49,489 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50543:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:50543 ********
2020-06-22 14:16:49,489 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:49,489 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:49,490 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:49,490 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:49,490 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:49,490 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:49,490 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:49,490 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:49,490 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:49,491 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:49,491 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:49,492 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:49,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:49,492 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:49,493 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:49,493 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22003:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:49,493 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:49,493 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:49,494 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:49,495 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:49,496 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:49,496 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:49,496 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:49,497 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:16:49,497 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled)
2020-06-22 14:16:49,497 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:16:49,496 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:16:49,498 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled) to exit thread
2020-06-22 14:16:49,498 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-06-22 14:16:49,498 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:16:49,498 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:49,499 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:16:49,499 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:16:49,499 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22007:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:49,499 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:49,500 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:49,500 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:49,500 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:16:49,501 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:49,501 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:16:49,501 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:49,501 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:49,501 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:49,502 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:49,502 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:49,502 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:49,502 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:49,503 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:49,503 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:16:49,503 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:16:49,503 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:49,504 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:49,504 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:49,504 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-06-22 14:16:49,504 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-06-22 14:16:49,505 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:49,588 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:16:51,102 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@400] - Cannot open channel to 3 at election address /127.0.0.1:22011
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:51,102 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@400] - Cannot open channel to 2 at election address /127.0.0.1:22008
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:51,115 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@400] - Cannot open channel to 3 at election address /127.0.0.1:22011
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:51,509 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-06-22 14:16:52,110 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:52,114 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:52,114 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:52,114 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:53,513 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22003
2020-06-22 14:16:53,514 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:53,514 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:53,514 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:53,516 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22003
2020-06-22 14:16:53,517 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:53,517 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,518 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,518 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:53,518 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:53,518 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,518 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2\snapshot.0
2020-06-22 14:16:53,518 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:16:53,519 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-06-22 14:16:53,519 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x100000003, digest is 5595057550
2020-06-22 14:16:53,520 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:53,520 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:53,521 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22006
2020-06-22 14:16:53,521 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:53,522 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:53,522 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22005
2020-06-22 14:16:53,522 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:53,522 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:53,522 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100000003
2020-06-22 14:16:53,523 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,524 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-06-22 14:16:53,525 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:53,525 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,525 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,526 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:53,526 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:53,526 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,526 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2\snapshot.0
2020-06-22 14:16:53,527 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:16:53,527 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-06-22 14:16:53,528 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 5595057550
2020-06-22 14:16:53,528 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:53,529 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:53,529 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:53,532 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50666
2020-06-22 14:16:53,532 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:53,532 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22008
2020-06-22 14:16:53,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x100000003
2020-06-22 14:16:53,533 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,537 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50668
2020-06-22 14:16:53,540 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,540 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,541 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,542 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,743 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2
2020-06-22 14:16:53,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test4804981808762829451.junit.dir\version-2\snapshot.100000003
2020-06-22 14:16:53,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:53,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7113847181351573138.junit.dir\version-2
2020-06-22 14:16:53,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 223 MS
2020-06-22 14:16:53,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:16:53,747 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-06-22 14:16:53,747 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22007:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22007
2020-06-22 14:16:53,749 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50680:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22004:22005:participant;127.0.0.1:22003
2020-06-22 14:16:53,753 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,756 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50680:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:16:53,756 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:16:53,756 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50680:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-06-22 14:16:53,756 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50680:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-06-22 14:16:53,758 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@511] - Getting a diff from the leader 0x100000003
2020-06-22 14:16:53,758 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:16:53,759 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:16:53,760 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,760 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:16:53,763 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x200000000
2020-06-22 14:16:53,763 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:53,764 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:53,764 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:16:53,765 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:16:53,765 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:16:53,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:16:53,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:53,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:53,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:16:53,782 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:53,783 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50682
2020-06-22 14:16:53,783 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:16:53,784 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-06-22 14:16:53,785 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50683
2020-06-22 14:16:53,785 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:16:53,786 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22009
2020-06-22 14:16:53,786 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:16:53,786 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:16:53,786 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:16:53,788 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-06-22 14:16:53,789 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:16:53,790 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,790 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,790 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:16:53,790 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:16:53,790 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,791 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:16:53,791 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test6953312525608885298.junit.dir\version-2\snapshot.0
2020-06-22 14:16:53,792 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:16:53,793 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:53,796 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:16:53,799 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:16:53,800 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:16:53,800 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-06-22 14:16:53,801 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22011:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22011
2020-06-22 14:16:53,801 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:16:53,801 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:16:53,802 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50720
2020-06-22 14:16:53,803 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,803 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50722
2020-06-22 14:16:53,803 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50721
2020-06-22 14:16:53,805 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,805 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,805 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,806 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,806 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,806 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,807 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,807 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,807 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,808 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:16:53,808 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:16:53,808 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,808 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:16:53,809 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:16:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:16:53,810 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:16:53,810 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:16:53,810 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test6953312525608885298.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test6953312525608885298.junit.dir\version-2
2020-06-22 14:16:53,810 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-06-22 14:16:53,810 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:16:53,811 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22007:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22007
2020-06-22 14:16:53,813 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22010:22011:participant;127.0.0.1:22009
2020-06-22 14:16:53,817 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:16:53,817 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:16:53,817 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x200000000 peerLastZxid=0x0
2020-06-22 14:16:53,818 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50723:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-06-22 14:16:53,819 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-22 14:16:53,819 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-06-22 14:16:53,819 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Learner@516] - Getting a snapshot from leader 0x200000000
2020-06-22 14:16:53,819 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,819 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:16:53,824 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:16:53,824 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:16:53,824 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x200000000 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test6953312525608885298.junit.dir\version-2\snapshot.200000000
2020-06-22 14:16:53,827 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 3 ms
2020-06-22 14:16:53,832 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:16:53,832 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:16:53,832 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:16:53,832 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:16:53,834 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:16:54,027 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50665
2020-06-22 14:16:54,027 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:16:54,027 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,027 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,027 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,028 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:16:54,028 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:16:54,028 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:16:54,028 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50727
2020-06-22 14:16:54,028 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,029 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:16:54,030 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,030 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,030 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,030 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,031 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22011:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50667
2020-06-22 14:16:54,031 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:16:54,031 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,031 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,031 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,032 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:16:54,032 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:16:54,032 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:16:54,032 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22005:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50728
2020-06-22 14:16:54,032 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,033 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:16:54,033 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,033 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,034 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,041 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22011:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50669
2020-06-22 14:16:54,041 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-22 14:16:54,041 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,041 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,041 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,042 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:16:54,042 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:50729
2020-06-22 14:16:54,042 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:16:54,042 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:16:54,044 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,044 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:16:54,044 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,045 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,045 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-06-22 14:16:54,053 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-06-22 14:16:54,054 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:50730
2020-06-22 14:16:54,054 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:16:54,055 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22003 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@1372ed45
2020-06-22 14:16:54,056 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:16:54,056 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:16:54,057 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22003.
2020-06-22 14:16:54,057 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:54,058 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:50733, server: activate.navicat.com/127.0.0.1:22003
2020-06-22 14:16:54,060 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.200000001
2020-06-22 14:16:54,060 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@170] - Got zxid 0x200000001 expected 0x1
2020-06-22 14:16:54,060 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Follower@170] - Got zxid 0x200000001 expected 0x1
2020-06-22 14:16:54,060 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.200000001
2020-06-22 14:16:54,060 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.200000001
2020-06-22 14:16:54,071 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x10015f2d68b0000
2020-06-22 14:16:54,071 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f2d68b0000
2020-06-22 14:16:54,071 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x10015f2d68b0000
2020-06-22 14:16:54,072 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22003, session id = 0x10015f2d68b0000, negotiated timeout = 30000
2020-06-22 14:16:54,072 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@139] - zk1 has session id 0x10015f2d68b0000
2020-06-22 14:16:54,075 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22006 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@453da22c
2020-06-22 14:16:54,076 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:16:54,076 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:16:54,077 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22006.
2020-06-22 14:16:54,077 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:54,077 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:50736, server: activate.navicat.com/127.0.0.1:22006
2020-06-22 14:16:54,079 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x20015f2d68f0000
2020-06-22 14:16:54,079 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x20015f2d68f0000
2020-06-22 14:16:54,079 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x20015f2d68f0000
2020-06-22 14:16:54,080 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22006, session id = 0x20015f2d68f0000, negotiated timeout = 30000
2020-06-22 14:16:54,080 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@144] - zk2 has session id 0x20015f2d68f0000
2020-06-22 14:16:54,081 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22009 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@442675e1
2020-06-22 14:16:54,082 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:16:54,082 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:16:54,083 [myid:127.0.0.1:22009] - INFO  [main-SendThread(127.0.0.1:22009):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22009.
2020-06-22 14:16:54,083 [myid:127.0.0.1:22009] - INFO  [main-SendThread(127.0.0.1:22009):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:16:54,083 [myid:127.0.0.1:22009] - INFO  [main-SendThread(127.0.0.1:22009):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:50739, server: activate.navicat.com/127.0.0.1:22009
2020-06-22 14:16:54,085 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x30015f2d6c80000
2020-06-22 14:16:54,085 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x30015f2d6c80000
2020-06-22 14:16:54,085 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x30015f2d6c80000
2020-06-22 14:16:54,086 [myid:127.0.0.1:22009] - INFO  [main-SendThread(127.0.0.1:22009):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22009, session id = 0x30015f2d6c80000, negotiated timeout = 30000
2020-06-22 14:16:54,086 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@149] - zk3 has session id 0x30015f2d6c80000
2020-06-22 14:16:54,088 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f2d68b0000
2020-06-22 14:16:54,190 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f2d68b0000 closed
2020-06-22 14:16:54,190 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f2d68b0000
2020-06-22 14:16:54,191 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x20015f2d68f0000
2020-06-22 14:16:54,293 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x20015f2d68f0000 closed
2020-06-22 14:16:54,293 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x20015f2d68f0000
2020-06-22 14:16:54,294 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x30015f2d6c80000
2020-06-22 14:16:54,397 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x30015f2d6c80000
2020-06-22 14:16:54,397 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x30015f2d6c80000 closed
2020-06-22 14:16:54,397 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled)
2020-06-22 14:16:54,398 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:54,398 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:54,398 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:54,398 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:54,398 [myid:] - ERROR [LearnerHandler-/127.0.0.1:50680:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:16:54,398 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:54,398 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50680:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:50680 ********
2020-06-22 14:16:54,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22007). Was connected for 650ms. Sync state: true
2020-06-22 14:16:54,398 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:54,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:54,399 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:54,399 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:54,399 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:54,399 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:54,399 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:54,399 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:54,400 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:54,400 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:54,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:54,401 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:54,401 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:54,401 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:54,401 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,401 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,401 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22003:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:54,402 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:54,403 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,403 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,403 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,403 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,403 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,403 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,405 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:16:54,404 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:16:54,404 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:16:54,404 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:16:54,404 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled)
2020-06-22 14:16:54,404 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:16:54,405 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22003)(secure=disabled) to exit thread
2020-06-22 14:16:54,406 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-06-22 14:16:54,405 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,405 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:16:54,406 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:16:54,406 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:16:54,406 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,406 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:16:54,407 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:16:54,407 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:16:54,407 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22007:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:16:54,407 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:54,408 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:54,408 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:16:54,408 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:16:54,408 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:54,409 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:16:54,409 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:54,409 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:54,409 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:54,410 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:16:54,410 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:54,410 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:50723 ********
2020-06-22 14:16:54,410 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22007). Was connected for 598ms. Sync state: true
2020-06-22 14:16:54,410 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-06-22 14:16:54,410 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:54,411 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:16:54,410 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,410 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,411 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:16:54,411 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-06-22 14:16:54,411 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):RequestThrottler@244] - Shutting down
2020-06-22 14:16:54,411 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:54,411 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:16:54,411 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:16:54,412 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,412 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,411 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:16:54,411 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:16:54,413 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:16:54,413 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:16:54,412 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:16:54,413 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:16:54,412 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-06-22 14:16:54,412 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:16:54,414 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-06-22 14:16:54,413 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:16:54,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:16:54,414 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:54,414 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:54,414 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:16:54,414 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@617] - Shutting down
2020-06-22 14:16:54,414 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:54,414 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:16:54,414 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:16:54,415 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled)
2020-06-22 14:16:54,415 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:16:54,415 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-06-22 14:16:54,415 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:16:54,415 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:16:54,415 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:16:54,415 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:16:54,415 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:16:54,416 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:16:54,416 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,416 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:16:54,416 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:16:54,417 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled)
2020-06-22 14:16:54,417 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-06-22 14:16:54,417 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-06-22 14:16:55,589 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:16:56,421 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22003 is no longer accepting client connections
2020-06-22 14:16:56,421 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-06-22 14:16:56,808 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:57,034 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:57,035 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:57,045 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:57,046 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:16:57,046 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:16:58,425 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22006 is no longer accepting client connections
2020-06-22 14:16:58,426 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-06-22 14:17:00,429 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22009 is no longer accepting client connections
2020-06-22 14:17:00,429 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 148635
2020-06-22 14:17:00,429 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 28
2020-06-22 14:17:00,429 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testLaggingFollowerResyncsUnderNewEpoch
2020-06-22 14:17:00,429 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 0
2020-06-22 14:17:00,430 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testLaggingFollowerResyncsUnderNewEpoch
2020-06-22 14:17:00,430 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testLaggingFollowerResyncsUnderNewEpoch
2020-06-22 14:17:00,430 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testResyncByDiffAfterFollowerCrashes
2020-06-22 14:17:00,430 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testResyncByDiffAfterFollowerCrashes
2020-06-22 14:17:00,432 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBgpeYiC/e6s7GagoGAAABctqrD/CAEgB4
2020-06-22 14:17:00,439 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22012 from range 21993 - 24685.
2020-06-22 14:17:00,439 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22013 from range 21993 - 24685.
2020-06-22 14:17:00,439 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22014 from range 21993 - 24685.
2020-06-22 14:17:00,441 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22015 from range 21993 - 24685.
2020-06-22 14:17:00,442 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22016 from range 21993 - 24685.
2020-06-22 14:17:00,442 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22017 from range 21993 - 24685.
2020-06-22 14:17:00,444 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22018 from range 21993 - 24685.
2020-06-22 14:17:00,445 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22019 from range 21993 - 24685.
2020-06-22 14:17:00,445 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22020 from range 21993 - 24685.
2020-06-22 14:17:00,445 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 22012
2020-06-22 14:17:00,445 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:00,445 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:00,445 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:00,447 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22012
2020-06-22 14:17:00,448 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:00,448 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,449 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,449 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:00,449 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:00,449 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:00,449 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 22015
2020-06-22 14:17:00,449 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:00,449 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:00,450 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:00,451 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22015
2020-06-22 14:17:00,452 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:00,452 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,453 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,453 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:00,453 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:00,453 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:00,453 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22018
2020-06-22 14:17:00,453 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:00,453 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:00,454 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:00,455 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22018
2020-06-22 14:17:00,456 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:00,457 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,457 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:00,458 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:00,458 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:00,458 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:00,458 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:00,459 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:00,459 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:00,459 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:00,460 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:00,460 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:00,460 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:00,460 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:00,461 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:00,461 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:02,474 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22012 is no longer accepting client connections
2020-06-22 14:17:02,474 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22015
2020-06-22 14:17:04,475 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22015 is no longer accepting client connections
2020-06-22 14:17:04,475 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22018
2020-06-22 14:17:06,865 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22018 is no longer accepting client connections
2020-06-22 14:17:06,866 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22012
2020-06-22 14:17:06,867 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:06,867 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:06,867 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:06,869 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22012
2020-06-22 14:17:06,870 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:06,871 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:06,871 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:06,871 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:06,872 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:06,872 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:06,872 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:06,873 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2\snapshot.0
2020-06-22 14:17:06,874 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:06,874 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:06,877 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:06,880 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:06,881 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:06,881 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2020-06-22 14:17:06,882 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22015
2020-06-22 14:17:06,882 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:06,882 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:06,882 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:06,883 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22015
2020-06-22 14:17:06,884 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:06,885 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:06,885 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:06,885 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:06,885 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:06,885 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:06,886 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:06,886 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2128782611192327101.junit.dir\version-2\snapshot.0
2020-06-22 14:17:06,887 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:06,888 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:06,932 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:07,086 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:07,086 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:07,087 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2020-06-22 14:17:07,088 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22018
2020-06-22 14:17:07,088 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:07,088 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:07,088 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:07,090 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22018
2020-06-22 14:17:07,091 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:07,092 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:07,092 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:07,092 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:07,092 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:07,092 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:07,099 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:07,099 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2802912017843238317.junit.dir\version-2\snapshot.0
2020-06-22 14:17:07,100 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 7 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:07,101 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:07,163 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:07,166 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:07,167 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:07,167 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2020-06-22 14:17:07,167 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:22012,127.0.0.1:22015,127.0.0.1:22018
2020-06-22 14:17:07,168 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:07,794 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22014
2020-06-22 14:17:07,854 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22017
2020-06-22 14:17:07,855 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22020
2020-06-22 14:17:07,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:07,855 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:07,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:17:07,856 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:17:07,858 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:07,858 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:17:07,870 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:07,871 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:07,871 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:08,008 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51602
2020-06-22 14:17:08,011 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51612
2020-06-22 14:17:08,012 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-22 14:17:08,013 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:08,013 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51615
2020-06-22 14:17:08,013 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51614
2020-06-22 14:17:08,013 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51613
2020-06-22 14:17:08,752 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51616
2020-06-22 14:17:08,751 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):FastLeaderElection@979] - Notification time out: 400
2020-06-22 14:17:08,747 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:08,746 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:08,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@979] - Notification time out: 400
2020-06-22 14:17:08,740 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):FastLeaderElection@979] - Notification time out: 400
2020-06-22 14:17:08,736 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:08,726 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:08,726 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51640
2020-06-22 14:17:09,108 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,183 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,108 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,184 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,107 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1285] - Exception when using channel: for id 3 my id = 1
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1278)
2020-06-22 14:17:09,107 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,202 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,203 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,107 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51645
2020-06-22 14:17:09,107 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:09,221 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:09,221 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:09,105 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:09,299 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:09,299 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,300 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,105 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:09,104 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:09,301 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:09,298 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1285] - Exception when using channel: for id 1 my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1278)
2020-06-22 14:17:09,302 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:09,219 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1285] - Exception when using channel: for id 2 my id = 1
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1278)
2020-06-22 14:17:09,199 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:09,186 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51646
2020-06-22 14:17:09,185 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51653
2020-06-22 14:17:09,394 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51688
2020-06-22 14:17:09,394 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:51689
2020-06-22 14:17:09,184 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,184 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,448 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:09,448 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,182 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:09,449 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:09,182 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:09,454 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:09,454 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,181 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:09,456 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,456 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,454 [myid:] - ERROR [SendWorker:3:QuorumCnxManager$SendWorker@1258] - Failed to send last message. Shutting down thread.
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1254)
2020-06-22 14:17:09,447 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:09,457 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:09,457 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:09,457 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:09,643 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:09,656 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:09,657 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:09,658 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:09,658 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:09,658 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:09,658 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:09,658 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:09,659 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:09,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:09,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:09,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2
2020-06-22 14:17:09,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 1805 MS
2020-06-22 14:17:09,660 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:09,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:09,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:09,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2802912017843238317.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2802912017843238317.junit.dir\version-2
2020-06-22 14:17:09,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 1806 MS
2020-06-22 14:17:09,663 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:17:09,663 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2802912017843238317.junit.dir\version-2\snapshot.0
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 27 ms
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:09,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2128782611192327101.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2128782611192327101.junit.dir\version-2
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 1834 MS
2020-06-22 14:17:09,692 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:09,693 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22019:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22019
2020-06-22 14:17:09,694 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51711
2020-06-22 14:17:09,696 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22019:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22019
2020-06-22 14:17:09,723 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51715:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22016:22017:participant;127.0.0.1:22015
2020-06-22 14:17:09,723 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51713:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22013:22014:participant;127.0.0.1:22012
2020-06-22 14:17:09,733 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:09,734 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:09,734 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51715:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:09,734 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51715:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:09,734 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51715:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-06-22 14:17:09,736 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51713:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:09,736 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:09,736 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51713:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:09,747 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51713:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:17:09,752 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:17:09,755 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:09,755 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:09,755 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:09,755 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:09,756 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:09,756 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:09,756 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:09,756 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:09,761 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3],[1, 3]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:17:09,762 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:09,762 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:09,763 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:17:09,763 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:17:09,763 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:09,765 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:09,765 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:09,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:09,766 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:09,768 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:09,769 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:09,769 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:09,769 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:09,770 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:09,945 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:09,948 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51726
2020-06-22 14:17:09,949 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-06-22 14:17:09,950 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22012 is accepting client connections
2020-06-22 14:17:09,950 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22015
2020-06-22 14:17:09,953 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51727
2020-06-22 14:17:09,953 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:09,954 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22015 is accepting client connections
2020-06-22 14:17:09,954 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22018
2020-06-22 14:17:09,956 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:51728
2020-06-22 14:17:09,956 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:09,957 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22018 is accepting client connections
2020-06-22 14:17:09,957 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-06-22 14:17:09,961 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:09,961 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:09,961 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:51713",name5="id:1"
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:51715",name5="id:2"
2020-06-22 14:17:09,962 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:09,963 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:09,964 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2020-06-22 14:17:09,964 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:09,964 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-06-22 14:17:09,966 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-06-22 14:17:09,967 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:51713",name5="id:1"
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:09,968 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:09,969 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:51715",name5="id:2"
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:09,970 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-06-22 14:17:09,971 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:09,971 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@398] - Connecting to follower: 1
2020-06-22 14:17:09,971 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22012 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7ff2a664
2020-06-22 14:17:09,972 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:09,972 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:09,986 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:09,986 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:09,987 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:51733, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:09,992 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:17:09,992 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:17:09,992 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:09,994 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:09,994 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:09,998 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f315070000
2020-06-22 14:17:09,998 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f315070000
2020-06-22 14:17:09,998 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f315070000
2020-06-22 14:17:10,003 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22012, session id = 0x10015f315070000, negotiated timeout = 30000
2020-06-22 14:17:10,003 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@401] - zk1 has session id 0x10015f315070000
2020-06-22 14:17:10,004 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22012 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@58c1c010
2020-06-22 14:17:10,005 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:10,005 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:10,008 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:10,008 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:10,009 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:51737, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:10,014 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f315070001
2020-06-22 14:17:10,014 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f315070001
2020-06-22 14:17:10,014 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f315070001
2020-06-22 14:17:10,018 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22012, session id = 0x10015f315070001, negotiated timeout = 30000
2020-06-22 14:17:10,019 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@404] - zk2 has session id 0x10015f315070001
2020-06-22 14:17:10,019 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22018 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@61d47554
2020-06-22 14:17:10,020 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:10,021 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:10,026 [myid:127.0.0.1:22018] - INFO  [main-SendThread(127.0.0.1:22018):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22018.
2020-06-22 14:17:10,026 [myid:127.0.0.1:22018] - INFO  [main-SendThread(127.0.0.1:22018):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:10,026 [myid:127.0.0.1:22018] - INFO  [main-SendThread(127.0.0.1:22018):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:51740, server: activate.navicat.com/127.0.0.1:22018
2020-06-22 14:17:10,029 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x30015f3150d0000
2020-06-22 14:17:10,029 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x30015f3150d0000
2020-06-22 14:17:10,029 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x30015f3150d0000
2020-06-22 14:17:10,030 [myid:127.0.0.1:22018] - INFO  [main-SendThread(127.0.0.1:22018):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22018, session id = 0x30015f3150d0000, negotiated timeout = 30000
2020-06-22 14:17:10,030 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@407] - zk3 has session id 0x30015f3150d0000
2020-06-22 14:17:10,047 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:10,048 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:10,048 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070001 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f315070001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:10,048 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070000 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f315070000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:10,048 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:10,048 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:10,048 [myid:] - ERROR [LearnerHandler-/127.0.0.1:51713:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:10,049 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:10,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22019). Was connected for 343ms. Sync state: true
2020-06-22 14:17:10,049 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:10,049 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51713:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:51713 ********
2020-06-22 14:17:10,050 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:10,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:10,050 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:10,050 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:10,050 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:10,050 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:10,050 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:10,050 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:10,051 [myid:] - INFO  [main:FileTxnSnapLog@363] - 1 txns loaded in 0 ms
2020-06-22 14:17:10,051 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:10,051 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:10,052 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:10,052 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:10,052 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:10,052 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:10,052 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22012:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:10,052 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:10,053 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:10,053 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:10,053 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:10,055 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:10,055 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:10,055 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:10,054 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:10,054 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:10,054 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:10,054 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:10,057 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:10,056 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:10,056 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:10,056 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:10,055 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled) to exit thread
2020-06-22 14:17:10,055 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:10,057 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:10,057 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:10,058 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:10,058 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:11,157 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@468] - Shutting down s1
2020-06-22 14:17:11,347 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:11,347 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:12,046 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:12,046 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:12,221 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:12,459 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:13,690 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070000 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:14,389 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070001 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:15,138 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:15,138 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:15,720 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:15,720 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:17,290 [myid:] - INFO  [main:QuorumUtil@227] - Creating QuorumPeer 1; public port 22012
2020-06-22 14:17:17,292 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070000 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:17,294 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:17,303 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:17,317 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:17,321 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22012
2020-06-22 14:17:17,322 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:17,323 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:17,323 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:17,323 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:17,323 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:17,323 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:17,324 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2\snapshot.0
2020-06-22 14:17:17,324 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:17:17,325 [myid:] - INFO  [main:FileTxnSnapLog@363] - 8 txns loaded in 0 ms
2020-06-22 14:17:17,325 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000008, digest is 12041877790
2020-06-22 14:17:17,326 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:17,326 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:17,327 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:18,350 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22014
2020-06-22 14:17:18,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:18,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100000008
2020-06-22 14:17:18,488 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:18,513 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:52365, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:18,556 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52390
2020-06-22 14:17:18,565 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52406
2020-06-22 14:17:18,565 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:18,773 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@979] - Notification time out: 400
2020-06-22 14:17:18,773 [myid:] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:18,773 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070001 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f315070001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:18,774 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52412
2020-06-22 14:17:18,773 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52411
2020-06-22 14:17:18,773 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:18,777 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52413
2020-06-22 14:17:18,811 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:19,041 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:19,042 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:19,042 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:52415, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:20,071 [myid:] - WARN  [NIOWorkerThread-4:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:20,077 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52422
2020-06-22 14:17:20,078 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070000 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f315070000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:20,077 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@979] - Notification time out: 800
2020-06-22 14:17:20,071 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52414
2020-06-22 14:17:20,327 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:20,434 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:20,076 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,270 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,271 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,271 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:20,075 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,272 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,270 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@979] - Notification time out: 1600
2020-06-22 14:17:21,270 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:21,167 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:20,434 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1285] - Exception when using channel: for id 2 my id = 1
java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1227)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1278)
2020-06-22 14:17:20,428 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52426
2020-06-22 14:17:20,327 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:20,078 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:21,274 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:21,274 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:21,274 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:21,274 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:21,275 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:21,275 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:52434, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:21,274 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,272 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,277 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,377 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000008, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,378 [myid:] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:21,378 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52433
2020-06-22 14:17:21,378 [myid:127.0.0.1:22012] - WARN  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1272] - Session 0x10015f315070001 for sever activate.navicat.com/127.0.0.1:22012, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f315070001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:21,379 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,379 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,379 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:21,379 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:21,379 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:21,379 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:21,379 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2
2020-06-22 14:17:21,380 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2911 MS
2020-06-22 14:17:21,381 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:21,386 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22019:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22019
2020-06-22 14:17:21,444 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52438:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22013:22014:participant;127.0.0.1:22012
2020-06-22 14:17:21,445 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52438:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:21,445 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:21,445 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52438:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x10000006c minCommittedLog=0x100000001 lastProcessedZxid=0x10000006c peerLastZxid=0x100000008
2020-06-22 14:17:21,445 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52438:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-06-22 14:17:21,445 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52438:LearnerHandler@972] - Sending DIFF zxid=0x10000006c  for peer sid: 1
2020-06-22 14:17:21,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@511] - Getting a diff from the leader 0x10000006c
2020-06-22 14:17:21,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:21,499 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@577] - Got zxid 0x100000009 expected 0x1
2020-06-22 14:17:21,499 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:21,500 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:21,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:21,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:21,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:21,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:21,505 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:21,562 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000009
2020-06-22 14:17:21,630 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:21,673 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52445
2020-06-22 14:17:21,673 [myid:] - INFO  [NIOWorkerThread-7:StatCommand@52] - Stat command output
2020-06-22 14:17:21,674 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:21,674 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:21,675 [myid:] - ERROR [LearnerHandler-/127.0.0.1:52438:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:21,675 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:21,675 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:21,675 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22019). Was connected for 252ms. Sync state: true
2020-06-22 14:17:21,675 [myid:] - WARN  [LearnerHandler-/127.0.0.1:52438:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:52438 ********
2020-06-22 14:17:21,675 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:21,675 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:21,676 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:21,676 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:21,676 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:21,676 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:21,677 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:21,677 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:21,678 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:21,680 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:21,680 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:21,681 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:21,681 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:21,681 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:21,681 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22012:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:21,681 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:21,681 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:21,681 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:21,690 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:21,690 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:21,691 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:21,693 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:21,692 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:21,692 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:21,691 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:21,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:21,694 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:21,694 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:21,693 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:21,694 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:21,694 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:21,709 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled) to exit thread
2020-06-22 14:17:21,709 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:21,712 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:21,713 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22012
2020-06-22 14:17:21,709 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:21,695 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:21,713 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:21,713 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:21,714 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:21,713 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:21,715 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:21,716 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22012
2020-06-22 14:17:21,717 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:21,717 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:21,717 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:21,718 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:21,718 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:21,718 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:21,718 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2\snapshot.0
2020-06-22 14:17:21,719 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:17:21,721 [myid:] - INFO  [main:FileTxnSnapLog@363] - 108 txns loaded in 2 ms
2020-06-22 14:17:21,721 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x10000006c, digest is 214875503278
2020-06-22 14:17:21,722 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:21,722 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:21,722 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:21,735 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22014
2020-06-22 14:17:21,736 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:21,736 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x10000006c
2020-06-22 14:17:21,737 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x10000006c, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,756 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52453
2020-06-22 14:17:21,757 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:21,768 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52452
2020-06-22 14:17:21,769 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52454
2020-06-22 14:17:21,769 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52455
2020-06-22 14:17:21,769 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:21,770 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22014:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:52456
2020-06-22 14:17:21,787 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x10000006c, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,787 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x10000006c, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,787 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,788 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:21,788 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:21,788 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:21,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:21,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:21,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:21,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:21,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test5959677426439387106.junit.dir\version-2
2020-06-22 14:17:21,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 54 MS
2020-06-22 14:17:21,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:21,793 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22019:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22019
2020-06-22 14:17:21,794 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52458:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22013:22014:participant;127.0.0.1:22012
2020-06-22 14:17:21,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52458:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:21,795 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:21,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52458:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000070 minCommittedLog=0x100000001 lastProcessedZxid=0x100000070 peerLastZxid=0x10000006c
2020-06-22 14:17:21,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52458:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-06-22 14:17:21,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:52458:LearnerHandler@972] - Sending DIFF zxid=0x100000070  for peer sid: 1
2020-06-22 14:17:21,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@511] - Getting a diff from the leader 0x100000070
2020-06-22 14:17:21,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:21,797 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@577] - Got zxid 0x10000006d expected 0x1
2020-06-22 14:17:21,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:21,797 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:21,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:21,802 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:21,802 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:21,802 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:21,803 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:21,804 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.10000006d
2020-06-22 14:17:21,810 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@170] - Got zxid 0x100000073 expected 0x1
2020-06-22 14:17:22,019 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:22,020 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:52460
2020-06-22 14:17:22,020 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:17:22,020 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@478] - Setting up server: 1
2020-06-22 14:17:22,936 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:22,936 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:22,937 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:52522, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:22,937 [myid:] - INFO  [NIOWorkerThread-3:Learner@137] - Revalidating client: 0x10015f315070000
2020-06-22 14:17:22,939 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22012, session id = 0x10015f315070000, negotiated timeout = 30000
2020-06-22 14:17:23,469 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22012.
2020-06-22 14:17:23,469 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:23,470 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:52559, server: activate.navicat.com/127.0.0.1:22012
2020-06-22 14:17:23,470 [myid:] - INFO  [NIOWorkerThread-5:Learner@137] - Revalidating client: 0x10015f315070001
2020-06-22 14:17:23,471 [myid:127.0.0.1:22012] - INFO  [main-SendThread(127.0.0.1:22012):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22012, session id = 0x10015f315070001, negotiated timeout = 30000
2020-06-22 14:17:24,272 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:24,380 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:26,138 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@540] - Wait for pending requests: 0
2020-06-22 14:17:27,139 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@555] - Wait for server to sync
2020-06-22 14:17:27,139 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@594] - Verifying state
2020-06-22 14:17:27,139 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x10015f315070001
2020-06-22 14:17:27,146 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x30015f3150d0000
2020-06-22 14:17:27,149 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f315070000
2020-06-22 14:17:27,251 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f315070000
2020-06-22 14:17:27,251 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f315070000 closed
2020-06-22 14:17:27,252 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f315070001
2020-06-22 14:17:27,373 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f315070001 closed
2020-06-22 14:17:27,373 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f315070001
2020-06-22 14:17:27,374 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x30015f3150d0000
2020-06-22 14:17:27,486 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x30015f3150d0000
2020-06-22 14:17:27,486 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x30015f3150d0000 closed
2020-06-22 14:17:27,486 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:27,487 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:27,487 [myid:] - ERROR [LearnerHandler-/127.0.0.1:52458:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:27,487 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:27,487 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:27,487 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:27,487 [myid:] - WARN  [LearnerHandler-/127.0.0.1:52458:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:52458 ********
2020-06-22 14:17:27,487 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:27,487 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22019). Was connected for 5694ms. Sync state: true
2020-06-22 14:17:27,488 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:27,488 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:27,488 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:27,488 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:27,488 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:27,488 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:27,488 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:27,488 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:27,500 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:27,500 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:27,500 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:27,501 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:27,501 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:27,501 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,501 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,501 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22012:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:27,501 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:27,502 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:27,503 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,503 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,503 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:27,503 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:27,505 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,505 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:27,504 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,505 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,505 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,505 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,506 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:27,506 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:27,506 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:27,506 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled)
2020-06-22 14:17:27,506 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:27,507 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22012)(secure=disabled) to exit thread
2020-06-22 14:17:27,508 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled)
2020-06-22 14:17:27,508 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:27,509 [myid:] - ERROR [LearnerHandler-/127.0.0.1:51715:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:27,509 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:27,509 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,509 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:27,510 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:27,510 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:27,509 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:27,509 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22019). Was connected for 17802ms. Sync state: true
2020-06-22 14:17:27,510 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:27,509 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51715:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:51715 ********
2020-06-22 14:17:27,510 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:27,511 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:27,512 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:27,512 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:27,512 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:27,512 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:27,513 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:27,526 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:27,526 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:27,527 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:27,527 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22015:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:27,527 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:27,527 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:27,527 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,527 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,528 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:27,528 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:27,529 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,530 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:17:27,530 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled)
2020-06-22 14:17:27,529 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,529 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:27,531 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:17:27,530 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22015)(secure=disabled) to exit thread
2020-06-22 14:17:27,531 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled)
2020-06-22 14:17:27,531 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:17:27,531 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:17:27,530 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:27,531 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22019:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:27,531 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:27,532 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:27,531 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:17:27,532 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:17:27,533 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:27,533 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:27,533 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:17:27,533 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:17:27,534 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:17:27,534 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:17:27,534 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:17:27,534 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:27,534 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:17:27,535 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:27,535 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:27,535 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:27,536 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:27,548 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:27,550 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,550 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22018:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:27,550 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:27,551 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:27,551 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:17:27,552 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled)
2020-06-22 14:17:27,552 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled) to exit thread
2020-06-22 14:17:27,552 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:17:27,552 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:27,552 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:27,553 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22018)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:27,553 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-06-22 14:17:27,589 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:17:27,741 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:27,791 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:27,804 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:27,805 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:27,805 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:27,805 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:29,554 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22012 is no longer accepting client connections
2020-06-22 14:17:29,554 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22015
2020-06-22 14:17:31,557 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22015 is no longer accepting client connections
2020-06-22 14:17:31,557 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22018
2020-06-22 14:17:33,562 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22018 is no longer accepting client connections
2020-06-22 14:17:33,562 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 169796
2020-06-22 14:17:33,562 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 35
2020-06-22 14:17:33,562 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testResyncByDiffAfterFollowerCrashes
2020-06-22 14:17:33,562 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 1201
2020-06-22 14:17:33,562 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testResyncByDiffAfterFollowerCrashes
2020-06-22 14:17:33,562 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testResyncByDiffAfterFollowerCrashes
2020-06-22 14:17:33,563 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testFollowerSendsLastZxid
2020-06-22 14:17:33,563 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testFollowerSendsLastZxid
2020-06-22 14:17:33,563 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBJZhl4TB//FvGagoGAAABctqrD/CAGwB4
2020-06-22 14:17:33,569 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22021 from range 21993 - 24685.
2020-06-22 14:17:33,569 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22022 from range 21993 - 24685.
2020-06-22 14:17:33,569 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22023 from range 21993 - 24685.
2020-06-22 14:17:33,570 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22024 from range 21993 - 24685.
2020-06-22 14:17:33,570 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22025 from range 21993 - 24685.
2020-06-22 14:17:33,570 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22026 from range 21993 - 24685.
2020-06-22 14:17:33,571 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22027 from range 21993 - 24685.
2020-06-22 14:17:33,571 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22028 from range 21993 - 24685.
2020-06-22 14:17:33,572 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22029 from range 21993 - 24685.
2020-06-22 14:17:33,572 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 22021
2020-06-22 14:17:33,572 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:33,572 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:33,572 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:33,573 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-06-22 14:17:33,573 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:33,574 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,574 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,574 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:33,574 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:33,574 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:33,574 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 22024
2020-06-22 14:17:33,575 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:33,575 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:33,575 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:33,576 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-06-22 14:17:33,577 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:33,578 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,578 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,578 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:33,578 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:33,578 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:33,578 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22027
2020-06-22 14:17:33,578 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:33,578 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:33,579 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:33,580 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22027
2020-06-22 14:17:33,581 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:33,581 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,582 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:33,582 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:33,582 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:33,582 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:33,582 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:33,582 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:33,582 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:33,582 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:33,583 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:33,583 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:33,583 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:33,583 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:33,583 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:33,583 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-06-22 14:17:35,586 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22021 is no longer accepting client connections
2020-06-22 14:17:35,586 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-06-22 14:17:37,589 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22024 is no longer accepting client connections
2020-06-22 14:17:37,589 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22027
2020-06-22 14:17:39,591 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22027 is no longer accepting client connections
2020-06-22 14:17:39,591 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22021
2020-06-22 14:17:39,591 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:39,591 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:39,591 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:39,592 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-06-22 14:17:39,593 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:39,593 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,593 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,593 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:39,593 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:39,594 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,594 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:39,595 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2828438618950006320.junit.dir\version-2\snapshot.0
2020-06-22 14:17:39,596 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:39,596 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,608 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,610 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:39,611 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:39,611 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2020-06-22 14:17:39,611 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22024
2020-06-22 14:17:39,612 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:39,612 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:39,612 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:39,612 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:39,612 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22023:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22023
2020-06-22 14:17:39,612 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:17:39,613 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,614 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-06-22 14:17:39,617 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:39,617 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,617 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,617 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:39,617 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:39,617 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,618 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:39,618 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test387368260172533647.junit.dir\version-2\snapshot.0
2020-06-22 14:17:39,618 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:39,619 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,620 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,622 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:39,623 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:39,623 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2020-06-22 14:17:39,623 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22027
2020-06-22 14:17:39,623 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:39,624 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22026:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22026
2020-06-22 14:17:39,624 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:39,624 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:39,624 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:39,624 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:17:39,625 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,625 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22023:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:53357
2020-06-22 14:17:39,625 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22027
2020-06-22 14:17:39,626 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,626 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,627 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,627 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,627 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:39,627 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,627 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:39,627 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:39,627 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:39,627 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,628 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:39,628 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9073783827541040787.junit.dir\version-2\snapshot.0
2020-06-22 14:17:39,628 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:39,629 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,630 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:39,632 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:39,632 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:39,632 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2020-06-22 14:17:39,632 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:22021,127.0.0.1:22024,127.0.0.1:22027
2020-06-22 14:17:39,633 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-06-22 14:17:39,633 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22029:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22029
2020-06-22 14:17:39,633 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:39,633 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:17:39,633 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:53363
2020-06-22 14:17:39,633 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,634 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22023:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:53364
2020-06-22 14:17:39,634 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22026:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:53365
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,636 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,635 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,636 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:39,837 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9073783827541040787.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9073783827541040787.junit.dir\version-2
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test387368260172533647.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test387368260172533647.junit.dir\version-2
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 214 MS
2020-06-22 14:17:39,838 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 205 MS
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2828438618950006320.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2828438618950006320.junit.dir\version-2
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 225 MS
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9073783827541040787.junit.dir\version-2\snapshot.0
2020-06-22 14:17:39,839 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:39,840 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-06-22 14:17:39,840 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22028:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22028
2020-06-22 14:17:39,840 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22028:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22028
2020-06-22 14:17:39,842 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53367:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22025:22026:participant;127.0.0.1:22024
2020-06-22 14:17:39,842 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53366:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22022:22023:participant;127.0.0.1:22021
2020-06-22 14:17:39,845 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,847 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53366:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:39,847 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:39,847 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53366:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:39,847 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:39,847 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53367:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:39,848 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53366:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:17:39,848 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53367:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:39,848 [myid:] - INFO  [LearnerHandler-/127.0.0.1:53367:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:39,848 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:39,849 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,849 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:39,849 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:17:39,852 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 3],[2, 3]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:17:39,852 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:39,852 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:39,853 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:17:39,853 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:17:39,853 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:39,853 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:39,853 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:39,854 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:39,854 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:39,854 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:39,854 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:39,854 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:39,855 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:39,855 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:39,884 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-06-22 14:17:39,884 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:53368
2020-06-22 14:17:39,885 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:17:39,885 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22021 is accepting client connections
2020-06-22 14:17:39,885 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-06-22 14:17:39,886 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:53369
2020-06-22 14:17:39,886 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:39,887 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22024 is accepting client connections
2020-06-22 14:17:39,887 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22027
2020-06-22 14:17:39,889 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:53370
2020-06-22 14:17:39,889 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:39,889 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22027 is accepting client connections
2020-06-22 14:17:39,889 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:53367",name5="id:2"
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:39,891 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:53366",name5="id:1"
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:39,892 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-06-22 14:17:39,893 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:53367",name5="id:2"
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:39,894 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-06-22 14:17:39,895 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:39,895 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@658] - Connecting to follower: 1
2020-06-22 14:17:39,896 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=localhost:22021 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@77e9807f
2020-06-22 14:17:39,897 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:39,897 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:39,898 [myid:localhost:22021] - INFO  [main-SendThread(localhost:22021):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22021.
2020-06-22 14:17:39,898 [myid:localhost:22021] - INFO  [main-SendThread(localhost:22021):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:39,898 [myid:localhost:22021] - INFO  [main-SendThread(localhost:22021):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:53373, server: localhost/127.0.0.1:22021
2020-06-22 14:17:39,900 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:39,900 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:17:39,900 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:17:39,900 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:39,900 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:39,902 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f38a950000
2020-06-22 14:17:39,902 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f38a950000
2020-06-22 14:17:39,902 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f38a950000
2020-06-22 14:17:39,903 [myid:localhost:22021] - INFO  [main-SendThread(localhost:22021):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22021, session id = 0x10015f38a950000, negotiated timeout = 30000
2020-06-22 14:17:39,905 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f38a950000
2020-06-22 14:17:40,008 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f38a950000 closed
2020-06-22 14:17:40,008 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-06-22 14:17:40,008 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:40,008 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f38a950000
2020-06-22 14:17:40,008 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:40,008 [myid:] - ERROR [LearnerHandler-/127.0.0.1:53366:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:40,008 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:40,009 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53366:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:53366 ********
2020-06-22 14:17:40,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22028). Was connected for 168ms. Sync state: true
2020-06-22 14:17:40,009 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:40,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:40,009 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:40,010 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:40,010 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:40,010 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:40,010 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:40,010 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:40,010 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:40,010 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:40,011 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:40,011 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:40,011 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:40,011 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:40,011 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:40,011 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:40,012 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,012 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:40,012 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,012 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:40,012 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,013 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-06-22 14:17:40,013 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-06-22 14:17:40,013 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled)
2020-06-22 14:17:40,013 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:40,012 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,013 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:40,013 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,013 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,013 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,013 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,014 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:40,014 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:40,014 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:40,014 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,014 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:40,014 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:40,014 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:40,015 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:40,014 [myid:] - ERROR [LearnerHandler-/127.0.0.1:53367:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:40,015 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:40,015 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22028). Was connected for 174ms. Sync state: true
2020-06-22 14:17:40,015 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:40,014 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:40,015 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:40,015 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:40,015 [myid:] - WARN  [LearnerHandler-/127.0.0.1:53367:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:53367 ********
2020-06-22 14:17:40,016 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:40,016 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,016 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:40,016 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:40,016 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:40,016 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:40,016 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:40,016 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:40,017 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:40,017 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:40,017 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:40,017 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:40,017 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:40,017 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,017 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:40,017 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:40,017 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,018 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:40,018 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,018 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled)
2020-06-22 14:17:40,019 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:17:40,018 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,018 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:40,019 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:17:40,019 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:40,019 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-06-22 14:17:40,019 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:17:40,019 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:17:40,019 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled)
2020-06-22 14:17:40,020 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:17:40,020 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:17:40,020 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:40,020 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22028:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:40,020 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:40,020 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:40,021 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:40,021 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:17:40,021 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:40,021 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:40,021 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:40,021 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:40,022 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:40,023 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,023 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:40,023 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22027:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:40,024 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:17:40,024 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:17:40,024 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:40,024 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:40,024 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:40,024 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:40,024 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled)
2020-06-22 14:17:40,024 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22027)(secure=disabled) to exit thread
2020-06-22 14:17:40,024 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-06-22 14:17:41,588 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:17:41,617 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@400] - Cannot open channel to 3 at election address /127.0.0.1:22029
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:41,618 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@400] - Cannot open channel to 2 at election address /127.0.0.1:22026
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:41,626 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@400] - Cannot open channel to 3 at election address /127.0.0.1:22029
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:383)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:457)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:17:42,031 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22021 is no longer accepting client connections
2020-06-22 14:17:42,032 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-06-22 14:17:42,633 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:42,636 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:42,636 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:42,636 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:42,636 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:42,637 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:44,036 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22024 is no longer accepting client connections
2020-06-22 14:17:44,036 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22027
2020-06-22 14:17:46,041 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22027 is no longer accepting client connections
2020-06-22 14:17:46,041 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 180305
2020-06-22 14:17:46,041 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 40
2020-06-22 14:17:46,041 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testFollowerSendsLastZxid
2020-06-22 14:17:46,041 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 0
2020-06-22 14:17:46,041 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testFollowerSendsLastZxid
2020-06-22 14:17:46,041 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testFollowerSendsLastZxid
2020-06-22 14:17:46,041 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testResyncBySnapThenDiffAfterFollowerCrashes
2020-06-22 14:17:46,041 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testResyncBySnapThenDiffAfterFollowerCrashes
2020-06-22 14:17:46,042 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBQgaXTe8XNADGagoGAAABctqrD/CAJQB4
2020-06-22 14:17:46,048 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22030 from range 21993 - 24685.
2020-06-22 14:17:46,049 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22031 from range 21993 - 24685.
2020-06-22 14:17:46,049 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22032 from range 21993 - 24685.
2020-06-22 14:17:46,050 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22033 from range 21993 - 24685.
2020-06-22 14:17:46,050 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22034 from range 21993 - 24685.
2020-06-22 14:17:46,050 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22035 from range 21993 - 24685.
2020-06-22 14:17:46,051 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22036 from range 21993 - 24685.
2020-06-22 14:17:46,051 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22037 from range 21993 - 24685.
2020-06-22 14:17:46,052 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22038 from range 21993 - 24685.
2020-06-22 14:17:46,052 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 22030
2020-06-22 14:17:46,052 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:46,052 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:46,052 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:46,053 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22030
2020-06-22 14:17:46,053 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:46,065 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,065 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,065 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:46,065 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:46,065 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:46,065 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 22033
2020-06-22 14:17:46,065 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:46,065 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:46,065 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:46,066 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22033
2020-06-22 14:17:46,066 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:46,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,067 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:46,067 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:46,067 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:46,067 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22036
2020-06-22 14:17:46,067 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:46,067 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:46,068 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:46,068 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22036
2020-06-22 14:17:46,069 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:46,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:46,070 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:46,070 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:46,070 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:46,070 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:46,070 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:46,070 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:17:46,071 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:17:46,071 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:17:48,085 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22030 is no longer accepting client connections
2020-06-22 14:17:48,085 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-06-22 14:17:50,089 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22033 is no longer accepting client connections
2020-06-22 14:17:50,089 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22036
2020-06-22 14:17:52,095 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22036 is no longer accepting client connections
2020-06-22 14:17:52,095 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22030
2020-06-22 14:17:52,095 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:52,095 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:52,095 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:52,096 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22030
2020-06-22 14:17:52,097 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:52,097 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,097 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,097 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:52,098 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:52,098 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,098 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:52,098 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.0
2020-06-22 14:17:52,099 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:52,099 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,101 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,103 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:52,104 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:52,105 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2020-06-22 14:17:52,105 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22033
2020-06-22 14:17:52,105 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:52,105 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:52,105 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22032
2020-06-22 14:17:52,106 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:52,106 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:52,106 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:17:52,107 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,107 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22033
2020-06-22 14:17:52,108 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:52,108 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,108 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,109 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:52,109 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:52,109 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,109 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:52,109 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7146495009964492011.junit.dir\version-2\snapshot.0
2020-06-22 14:17:52,110 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:52,110 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,112 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,114 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:52,115 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:52,115 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2020-06-22 14:17:52,115 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22036
2020-06-22 14:17:52,116 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:52,116 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22035
2020-06-22 14:17:52,116 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:52,116 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:52,116 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:17:52,116 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:52,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,117 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54125
2020-06-22 14:17:52,118 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,118 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,118 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22036
2020-06-22 14:17:52,119 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,119 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,119 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:52,120 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,120 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,120 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:52,120 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:52,120 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,120 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:17:52,121 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2681042386175801379.junit.dir\version-2\snapshot.0
2020-06-22 14:17:52,121 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:52,122 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,124 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:17:52,126 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:52,126 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:52,126 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2020-06-22 14:17:52,126 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:22030,127.0.0.1:22033,127.0.0.1:22036
2020-06-22 14:17:52,127 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:17:52,127 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22038
2020-06-22 14:17:52,127 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:52,127 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:17:52,128 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54131
2020-06-22 14:17:52,128 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,128 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54132
2020-06-22 14:17:52,129 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54133
2020-06-22 14:17:52,130 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,130 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,130 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,131 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:52,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 228 MS
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:52,334 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2681042386175801379.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2681042386175801379.junit.dir\version-2
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7146495009964492011.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test7146495009964492011.junit.dir\version-2
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 219 MS
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 208 MS
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:52,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:17:52,336 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test2681042386175801379.junit.dir\version-2\snapshot.0
2020-06-22 14:17:52,336 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22037:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22037
2020-06-22 14:17:52,337 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22037:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22037
2020-06-22 14:17:52,337 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-06-22 14:17:52,340 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54137:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22034:22035:participant;127.0.0.1:22033
2020-06-22 14:17:52,340 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54136:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22031:22032:participant;127.0.0.1:22030
2020-06-22 14:17:52,344 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,347 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54136:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:52,347 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:52,347 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54136:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:52,347 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54137:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:17:52,347 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:52,347 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54137:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:17:52,347 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54136:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:17:52,348 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54137:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-06-22 14:17:52,349 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:52,349 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:17:52,349 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:52,349 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:17:52,350 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:52,350 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:52,350 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,350 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,351 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:17:52,353 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3],[1, 3]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:17:52,353 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:52,354 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:52,355 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:17:52,355 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:17:52,355 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:52,355 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:52,356 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:52,358 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:52,358 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:52,378 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:17:52,379 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54138
2020-06-22 14:17:52,379 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:17:52,380 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22030 is accepting client connections
2020-06-22 14:17:52,380 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-06-22 14:17:52,381 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54139
2020-06-22 14:17:52,381 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:52,382 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22033 is accepting client connections
2020-06-22 14:17:52,382 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22036
2020-06-22 14:17:52,383 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54140
2020-06-22 14:17:52,383 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:17:52,384 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22036 is accepting client connections
2020-06-22 14:17:52,384 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-06-22 14:17:52,385 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:52,386 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:54137",name5="id:2"
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2020-06-22 14:17:52,387 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:54136",name5="id:1"
2020-06-22 14:17:52,388 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:52,388 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:17:52,390 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:54137",name5="id:2"
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:17:52,391 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:52,392 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-06-22 14:17:52,393 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:17:52,394 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@220] - Connecting to follower: 1
2020-06-22 14:17:52,394 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:17:52,394 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:52,394 [myid:] - ERROR [LearnerHandler-/127.0.0.1:54136:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:52,394 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:52,394 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:52,395 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:52,395 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22037). Was connected for 57ms. Sync state: true
2020-06-22 14:17:52,394 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54136:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:54136 ********
2020-06-22 14:17:52,395 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:52,395 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:52,396 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:52,396 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:52,396 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:52,396 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:52,396 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:52,397 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:52,397 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:52,397 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:52,398 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:52,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:52,399 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:52,399 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:52,399 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:52,399 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22030:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:52,399 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:52,401 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:52,401 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:52,402 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,403 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:17:52,403 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:52,403 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,403 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,402 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,402 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,402 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,405 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:52,405 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:52,405 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:52,404 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,404 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled) to exit thread
2020-06-22 14:17:52,406 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:52,406 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,405 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:52,405 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:52,407 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:52,407 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22036 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@52e677af
2020-06-22 14:17:52,408 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:52,409 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:52,410 [myid:127.0.0.1:22036] - INFO  [main-SendThread(127.0.0.1:22036):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22036.
2020-06-22 14:17:52,411 [myid:127.0.0.1:22036] - INFO  [main-SendThread(127.0.0.1:22036):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:52,411 [myid:127.0.0.1:22036] - INFO  [main-SendThread(127.0.0.1:22036):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:54144, server: activate.navicat.com/127.0.0.1:22036
2020-06-22 14:17:52,413 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:17:52,413 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:52,413 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:17:52,415 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x30015f3bb6d0000
2020-06-22 14:17:52,415 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x30015f3bb6d0000
2020-06-22 14:17:52,416 [myid:127.0.0.1:22036] - INFO  [main-SendThread(127.0.0.1:22036):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22036, session id = 0x30015f3bb6d0000, negotiated timeout = 30000
2020-06-22 14:17:52,416 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@225] - zk3 has session id 0x30015f3bb6d0000
2020-06-22 14:17:52,419 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22030
2020-06-22 14:17:52,420 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:17:52,420 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:17:52,420 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:17:52,421 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22030
2020-06-22 14:17:52,422 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:17:52,423 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,423 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,423 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:17:52,423 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:17:52,423 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,424 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.0
2020-06-22 14:17:52,424 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:17:52,425 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:17:52,425 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:17:52,426 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:17:52,426 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:17:52,427 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22032
2020-06-22 14:17:52,427 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:17:52,427 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:17:52,428 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,428 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54151
2020-06-22 14:17:52,429 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54152
2020-06-22 14:17:52,429 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:52,429 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54153
2020-06-22 14:17:52,429 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:52,431 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54155
2020-06-22 14:17:52,432 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54154
2020-06-22 14:17:52,432 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,432 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,433 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,433 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,433 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,433 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:17:52,434 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:17:52,435 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:17:52,435 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:17:52,435 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2
2020-06-22 14:17:52,435 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-06-22 14:17:52,435 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:17:52,436 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22037:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22037
2020-06-22 14:17:52,437 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54156:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22031:22032:participant;127.0.0.1:22030
2020-06-22 14:17:52,438 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54156:ZKDatabase@347] - On disk txn sync disabled
2020-06-22 14:17:52,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:17:52,438 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54156:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x0
2020-06-22 14:17:52,438 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54156:LearnerHandler@903] - Unhandled scenario for peer sid: 1 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x0 txnLogSyncEnabled=false
2020-06-22 14:17:52,438 [myid:] - INFO  [LearnerHandler-/127.0.0.1:54156:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000002, send zxid of db as 0x100000002, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-22 14:17:52,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-06-22 14:17:52,438 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@516] - Getting a snapshot from leader 0x100000002
2020-06-22 14:17:52,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,439 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:17:52,440 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:17:52,440 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:17:52,441 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000002 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.100000002
2020-06-22 14:17:52,443 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-06-22 14:17:52,446 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:17:52,446 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:17:52,446 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:17:52,446 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:17:52,447 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:17:52,608 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54119
2020-06-22 14:17:52,608 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:17:52,608 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,609 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,609 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,609 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:52,609 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:52,609 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:52,609 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54157
2020-06-22 14:17:52,610 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,610 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:17:52,610 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54122
2020-06-22 14:17:52,610 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:52,611 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,611 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,611 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,612 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:52,612 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,612 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,612 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:52,612 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54158
2020-06-22 14:17:52,612 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:52,615 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,615 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,616 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:52,616 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,616 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,617 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54126
2020-06-22 14:17:52,617 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-22 14:17:52,617 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,617 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,618 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:52,618 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,619 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:17:52,619 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:17:52,619 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:54159
2020-06-22 14:17:52,619 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:17:52,620 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:52,621 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:17:52,621 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,622 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,622 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:17:52,678 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:17:52,679 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:54162
2020-06-22 14:17:52,679 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:17:52,680 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22030 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@2145433b
2020-06-22 14:17:52,681 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:52,681 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:52,683 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:17:52,683 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:52,683 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:54165, server: activate.navicat.com/127.0.0.1:22030
2020-06-22 14:17:52,686 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@170] - Got zxid 0x100000003 expected 0x1
2020-06-22 14:17:52,686 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000003
2020-06-22 14:17:52,686 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f3bbc30000
2020-06-22 14:17:52,686 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f3bbc30000
2020-06-22 14:17:52,686 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f3bbc30000
2020-06-22 14:17:52,688 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22030, session id = 0x10015f3bbc30000, negotiated timeout = 30000
2020-06-22 14:17:52,688 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@232] - zk1 has session id 0x10015f3bbc30000
2020-06-22 14:17:52,688 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22030 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@40e6dfe1
2020-06-22 14:17:52,689 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:17:52,690 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:17:52,691 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:17:52,691 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:52,691 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:54168, server: activate.navicat.com/127.0.0.1:22030
2020-06-22 14:17:52,693 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f3bbc30001
2020-06-22 14:17:52,693 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f3bbc30001
2020-06-22 14:17:52,693 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f3bbc30001
2020-06-22 14:17:52,694 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22030, session id = 0x10015f3bbc30001, negotiated timeout = 30000
2020-06-22 14:17:52,694 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@235] - zk2 has session id 0x10015f3bbc30001
2020-06-22 14:17:55,132 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:55,132 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:57,793 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:17:57,793 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:17:57,793 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30001 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f3bbc30001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:57,794 [myid:] - ERROR [LearnerHandler-/127.0.0.1:54156:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:17:57,793 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30000 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f3bbc30000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:17:57,794 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54156:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:54156 ********
2020-06-22 14:17:57,794 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:17:57,794 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:17:57,795 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:17:57,800 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:17:57,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22037). Was connected for 5364ms. Sync state: true
2020-06-22 14:17:57,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:17:57,908 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@65] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:168)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:63)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:249)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:169)
2020-06-22 14:17:57,909 [myid:] - WARN  [SyncThread:1:SendAckRequestProcessor@65] - Closing connection to leader, exception during packet send
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.apache.zookeeper.server.quorum.Learner.writePacket(Learner.java:168)
	at org.apache.zookeeper.server.quorum.SendAckRequestProcessor.flush(SendAckRequestProcessor.java:63)
	at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:249)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:169)
2020-06-22 14:17:57,910 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:17:57,910 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:17:57,910 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:17:57,910 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:17:57,910 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:17:57,911 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:17:57,912 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:17:57,921 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:17:57,921 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:17:57,922 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:17:57,922 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:17:57,922 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:57,922 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:17:57,922 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22030:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:17:57,923 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:17:57,924 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:17:57,963 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:17:57,964 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:57,964 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:17:57,969 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:57,969 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:17:57,970 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:57,970 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:17:57,980 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:57,980 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:17:57,983 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.read(SocketInputStream.java:204)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:17:57,983 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:17:57,984 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:57,984 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:17:57,985 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:57,986 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:17:57,986 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:17:57,994 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:17:58,059 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:17:58,060 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled) to exit thread
2020-06-22 14:17:58,060 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@294] - Shutting down s1
2020-06-22 14:17:58,596 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:17:58,657 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:17:59,252 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:17:59,252 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:17:59,569 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:17:59,569 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:01,471 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30001 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:18:01,743 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30000 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:18:02,741 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:18:02,741 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:03,626 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:18:03,626 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:04,906 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30001 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:18:05,438 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@302] - Restarting follower: 1
2020-06-22 14:18:05,438 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22030
2020-06-22 14:18:05,439 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:05,439 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:05,439 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:05,440 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22030
2020-06-22 14:18:05,440 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:05,441 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:05,441 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:05,441 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:05,441 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:05,441 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:05,441 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.100000002
2020-06-22 14:18:05,442 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-06-22 14:18:05,464 [myid:] - INFO  [main:FileTxnSnapLog@363] - 4135 txns loaded in 21 ms
2020-06-22 14:18:05,464 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 22 ms, highest zxid is 0x100001029, digest is 8805250838918
2020-06-22 14:18:05,464 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:18:05,464 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:18:05,464 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:18:05,465 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22032
2020-06-22 14:18:05,465 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:18:05,465 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100001029
2020-06-22 14:18:05,465 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55016
2020-06-22 14:18:05,466 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001029, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,466 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55017
2020-06-22 14:18:05,466 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:18:05,466 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:18:05,466 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55018
2020-06-22 14:18:05,467 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55019
2020-06-22 14:18:05,467 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55020
2020-06-22 14:18:05,468 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001029, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,469 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,469 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:18:05,469 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100001029, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,469 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:05,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:05,470 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-06-22 14:18:05,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:18:05,471 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22037:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22037
2020-06-22 14:18:05,473 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55021:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22031:22032:participant;127.0.0.1:22030
2020-06-22 14:18:05,473 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55021:ZKDatabase@347] - On disk txn sync disabled
2020-06-22 14:18:05,473 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:18:05,473 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55021:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100002db6 minCommittedLog=0x100002bc2 lastProcessedZxid=0x100002db6 peerLastZxid=0x100001029
2020-06-22 14:18:05,473 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55021:LearnerHandler@903] - Unhandled scenario for peer sid: 1 maxCommittedLog=0x100002db6 minCommittedLog=0x100002bc2 lastProcessedZxid=0x100002db6 peerLastZxid=0x100001029 txnLogSyncEnabled=false
2020-06-22 14:18:05,473 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55021:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x100001029, zxid of leader is 0x100002dc1, send zxid of db as 0x100002db7, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-22 14:18:05,473 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-06-22 14:18:05,474 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@516] - Getting a snapshot from leader 0x100002db7
2020-06-22 14:18:05,474 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:05,474 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:05,511 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@577] - Got zxid 0x100002db8 expected 0x1
2020-06-22 14:18:05,513 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:18:05,514 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:05,514 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100002e6b to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.100002e6b
2020-06-22 14:18:05,539 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 25 ms
2020-06-22 14:18:05,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:18:05,543 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:18:05,543 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:18:05,543 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:18:05,544 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100002e6c
2020-06-22 14:18:05,544 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:18:05,639 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@170] - Got zxid 0x100002f54 expected 0x1
2020-06-22 14:18:05,698 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:54971, server: activate.navicat.com/127.0.0.1:22030
2020-06-22 14:18:05,698 [myid:] - INFO  [NIOWorkerThread-2:Learner@137] - Revalidating client: 0x10015f3bbc30000
2020-06-22 14:18:05,699 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22030, session id = 0x10015f3bbc30000, negotiated timeout = 30000
2020-06-22 14:18:05,717 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:18:05,718 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55034
2020-06-22 14:18:05,718 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-06-22 14:18:06,018 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@305] - Shutdown follower: 1
2020-06-22 14:18:06,018 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:18:06,018 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:18:06,018 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:18:06,018 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55021:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:18:06,018 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:18:06,019 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55021:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55021 ********
2020-06-22 14:18:06,018 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:18:06,018 [myid:127.0.0.1:22030] - WARN  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1272] - Session 0x10015f3bbc30000 for sever activate.navicat.com/127.0.0.1:22030, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f3bbc30000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:18:06,019 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22037). Was connected for 547ms. Sync state: true
2020-06-22 14:18:06,019 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:18:06,019 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:18:06,019 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:18:06,019 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:18:06,020 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:18:06,020 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:18:06,020 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:18:06,020 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:18:06,020 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:18:06,021 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:18:06,021 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:18:06,021 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:18:06,021 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:18:06,021 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:18:06,021 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:18:06,021 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22030:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:18:06,021 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:06,021 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:06,022 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:18:06,022 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:06,023 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:18:06,023 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:06,022 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:06,022 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:06,022 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:06,022 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:06,024 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:18:06,024 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:18:06,024 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:18:06,023 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:18:06,023 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled) to exit thread
2020-06-22 14:18:06,023 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:18:06,024 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:06,024 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:18:06,024 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:06,024 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:18:06,025 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:18:06,324 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@308] - Restarting follower: 1
2020-06-22 14:18:06,324 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22030
2020-06-22 14:18:06,324 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:06,324 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:06,324 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:06,326 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22030
2020-06-22 14:18:06,327 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:06,327 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:06,327 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:06,327 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:06,327 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:06,327 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:06,328 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2\snapshot.100002e6b
2020-06-22 14:18:06,373 [myid:] - INFO  [main:DataTree@1730] - The digest in the snapshot has digest version of 2, , with zxid as 0x100002e6b, and digest value as 25422633797692
2020-06-22 14:18:06,391 [myid:] - INFO  [main:FileTxnSnapLog@363] - 272 txns loaded in 2 ms
2020-06-22 14:18:06,391 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 63 ms, highest zxid is 0x100002f7b, digest is 26028938341851
2020-06-22 14:18:06,391 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:18:06,392 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:18:06,392 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:18:06,393 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22032
2020-06-22 14:18:06,393 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:18:06,393 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x100002f7b
2020-06-22 14:18:06,393 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55056
2020-06-22 14:18:06,394 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002f7b, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,394 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22035:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55057
2020-06-22 14:18:06,394 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22038:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55058
2020-06-22 14:18:06,394 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:18:06,394 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:18:06,395 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55059
2020-06-22 14:18:06,396 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:55060
2020-06-22 14:18:06,396 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,396 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002f7b, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,397 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100002f7b, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,397 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:06,398 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:18:06,398 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:18:06,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:18:06,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3353496111262383822.junit.dir\version-2
2020-06-22 14:18:06,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-06-22 14:18:06,399 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:18:06,400 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22037:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22037
2020-06-22 14:18:06,401 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55061:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22031:22032:participant;127.0.0.1:22030
2020-06-22 14:18:06,401 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55061:ZKDatabase@347] - On disk txn sync disabled
2020-06-22 14:18:06,401 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:18:06,401 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55061:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100002fa3 minCommittedLog=0x100002daf lastProcessedZxid=0x100002fa3 peerLastZxid=0x100002f7b
2020-06-22 14:18:06,401 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55061:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-06-22 14:18:06,401 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55061:LearnerHandler@972] - Sending DIFF zxid=0x100002fa3  for peer sid: 1
2020-06-22 14:18:06,403 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@511] - Getting a diff from the leader 0x100002fa3
2020-06-22 14:18:06,403 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:18:06,403 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@577] - Got zxid 0x100002f7c expected 0x1
2020-06-22 14:18:06,403 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:18:06,403 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:06,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:18:06,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:18:06,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:18:06,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:18:06,407 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100002f7c
2020-06-22 14:18:06,407 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:18:06,445 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@170] - Got zxid 0x100002fa4 expected 0x1
2020-06-22 14:18:06,643 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:18:06,644 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55063
2020-06-22 14:18:06,644 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:18:06,644 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@310] - Setting up server: 1
2020-06-22 14:18:06,695 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:18:06,695 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:06,695 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55103, server: activate.navicat.com/127.0.0.1:22030
2020-06-22 14:18:06,696 [myid:] - INFO  [NIOWorkerThread-3:Learner@137] - Revalidating client: 0x10015f3bbc30001
2020-06-22 14:18:06,697 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22030, session id = 0x10015f3bbc30001, negotiated timeout = 30000
2020-06-22 14:18:07,224 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1154] - Opening socket connection to server activate.navicat.com/127.0.0.1:22030.
2020-06-22 14:18:07,224 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:07,224 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55144, server: activate.navicat.com/127.0.0.1:22030
2020-06-22 14:18:07,225 [myid:] - INFO  [NIOWorkerThread-14:Learner@137] - Revalidating client: 0x10015f3bbc30000
2020-06-22 14:18:07,225 [myid:127.0.0.1:22030] - INFO  [main-SendThread(127.0.0.1:22030):ClientCnxn$SendThread@1420] - Session establishment complete on server activate.navicat.com/127.0.0.1:22030, session id = 0x10015f3bbc30000, negotiated timeout = 30000
2020-06-22 14:18:08,467 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:18:08,471 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:18:37,603 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@540] - Wait for pending requests: 9
2020-06-22 14:18:38,603 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@555] - Wait for server to sync
2020-06-22 14:18:38,603 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@594] - Verifying state
2020-06-22 14:18:38,603 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x10015f3bbc30001
2020-06-22 14:18:38,603 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@615] - Validating ephemeral for session id 0x30015f3bb6d0000
2020-06-22 14:18:38,613 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f3bbc30000
2020-06-22 14:18:38,716 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f3bbc30000 closed
2020-06-22 14:18:38,716 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f3bbc30000
2020-06-22 14:18:38,716 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f3bbc30001
2020-06-22 14:18:38,819 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f3bbc30001 closed
2020-06-22 14:18:38,819 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f3bbc30001
2020-06-22 14:18:38,819 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x30015f3bb6d0000
2020-06-22 14:18:38,966 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x30015f3bb6d0000 closed
2020-06-22 14:18:38,966 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x30015f3bb6d0000
2020-06-22 14:18:38,966 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:18:38,967 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:18:38,967 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55061:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:18:38,967 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:18:38,967 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:18:38,967 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:18:38,967 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55061:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55061 ********
2020-06-22 14:18:38,967 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:18:38,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22037). Was connected for 32567ms. Sync state: true
2020-06-22 14:18:38,967 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:18:38,968 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:18:38,968 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:18:38,968 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:18:38,968 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:18:38,968 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:18:38,968 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:18:38,968 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:18:38,975 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:18:38,975 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:18:38,975 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:18:38,975 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:18:38,975 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:18:38,975 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:18:38,976 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:38,976 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:38,975 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22030:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:18:38,977 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:18:38,977 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:38,977 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:38,977 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:38,977 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:38,978 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:18:38,977 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:38,977 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:38,979 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:38,979 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:18:38,978 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:18:38,978 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:18:38,978 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled)
2020-06-22 14:18:38,978 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:18:38,979 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22030)(secure=disabled) to exit thread
2020-06-22 14:18:38,979 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:18:38,979 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:18:38,980 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:38,980 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled)
2020-06-22 14:18:38,980 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:18:38,980 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:18:38,981 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:18:38,981 [myid:] - ERROR [LearnerHandler-/127.0.0.1:54137:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:18:38,981 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:18:38,981 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:18:38,981 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22037). Was connected for 46644ms. Sync state: true
2020-06-22 14:18:38,981 [myid:] - WARN  [LearnerHandler-/127.0.0.1:54137:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:54137 ********
2020-06-22 14:18:38,981 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:18:38,981 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:18:38,981 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:18:38,981 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:18:38,981 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:18:38,982 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:18:38,982 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:18:38,982 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:18:38,982 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:18:39,008 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:18:39,008 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:18:39,008 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:18:39,008 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:18:39,008 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:18:39,008 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:18:39,008 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:39,008 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22033:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:18:39,008 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:39,009 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:18:39,009 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:39,010 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled)
2020-06-22 14:18:39,010 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:39,009 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:39,010 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:18:39,010 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:18:39,010 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22033)(secure=disabled) to exit thread
2020-06-22 14:18:39,010 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled)
2020-06-22 14:18:39,010 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:18:39,011 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:18:39,011 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:39,011 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:18:39,011 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:18:39,011 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:18:39,012 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22037:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:18:39,012 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:18:39,012 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:18:39,012 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:18:39,012 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:18:39,013 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:18:39,013 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:18:39,013 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:18:39,013 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:18:39,037 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:18:39,037 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22036:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:18:39,037 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:39,037 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:18:39,038 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:18:39,038 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:18:39,039 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:18:39,039 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled)
2020-06-22 14:18:39,039 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:18:39,039 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:18:39,039 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:18:39,039 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22036)(secure=disabled) to exit thread
2020-06-22 14:18:39,039 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22030
2020-06-22 14:18:39,409 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:18:39,409 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:18:39,409 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:18:39,409 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:18:39,414 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:18:39,480 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:18:39,589 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:18:41,044 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22030 is no longer accepting client connections
2020-06-22 14:18:41,044 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-06-22 14:18:43,048 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22033 is no longer accepting client connections
2020-06-22 14:18:43,048 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22036
2020-06-22 14:18:45,053 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22036 is no longer accepting client connections
2020-06-22 14:18:45,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 107792
2020-06-22 14:18:45,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 48
2020-06-22 14:18:45,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testResyncBySnapThenDiffAfterFollowerCrashes
2020-06-22 14:18:45,054 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 122
2020-06-22 14:18:45,054 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testResyncBySnapThenDiffAfterFollowerCrashes
2020-06-22 14:18:45,054 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testResyncBySnapThenDiffAfterFollowerCrashes
2020-06-22 14:18:45,054 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testFollowerWatcherResync
2020-06-22 14:18:45,054 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testFollowerWatcherResync
2020-06-22 14:18:45,055 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTEwLjEwLjEyMi4xNjAAAPiBwCOKgSimQmLGagoGAAABctqrD/CAMgB4
2020-06-22 14:18:45,060 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22039 from range 21993 - 24685.
2020-06-22 14:18:45,061 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22040 from range 21993 - 24685.
2020-06-22 14:18:45,061 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22041 from range 21993 - 24685.
2020-06-22 14:18:45,063 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22042 from range 21993 - 24685.
2020-06-22 14:18:45,063 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22043 from range 21993 - 24685.
2020-06-22 14:18:45,063 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22044 from range 21993 - 24685.
2020-06-22 14:18:45,064 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22045 from range 21993 - 24685.
2020-06-22 14:18:45,065 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22046 from range 21993 - 24685.
2020-06-22 14:18:45,065 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22047 from range 21993 - 24685.
2020-06-22 14:18:45,065 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 22039
2020-06-22 14:18:45,065 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:45,065 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:45,065 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:45,066 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22039
2020-06-22 14:18:45,066 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:45,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,067 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:45,067 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:45,067 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:45,068 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 22042
2020-06-22 14:18:45,068 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:45,068 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:45,068 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:45,069 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22042
2020-06-22 14:18:45,069 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:45,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,070 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,070 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:45,070 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:45,070 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:45,071 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 22045
2020-06-22 14:18:45,071 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:45,071 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:45,071 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:45,072 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22045
2020-06-22 14:18:45,072 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:45,073 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,073 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:45,073 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:45,073 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:45,073 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:45,074 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:18:45,074 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:18:45,074 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:18:45,074 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:18:45,075 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:18:45,075 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:18:45,075 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-22 14:18:45,075 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-22 14:18:45,075 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-22 14:18:45,075 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22039
2020-06-22 14:18:47,079 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22039 is no longer accepting client connections
2020-06-22 14:18:47,079 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22042
2020-06-22 14:18:49,087 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22042 is no longer accepting client connections
2020-06-22 14:18:49,087 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-06-22 14:18:51,089 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22045 is no longer accepting client connections
2020-06-22 14:18:51,089 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 22039
2020-06-22 14:18:51,089 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:51,089 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:51,089 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:51,090 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22039
2020-06-22 14:18:51,090 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:51,091 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,091 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,091 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:51,091 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:51,091 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,091 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:18:51,092 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test670233253869992653.junit.dir\version-2\snapshot.0
2020-06-22 14:18:51,092 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:18:51,093 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,096 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,098 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:18:51,098 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:18:51,098 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2020-06-22 14:18:51,098 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 22042
2020-06-22 14:18:51,099 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:51,099 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:51,099 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1065] - 1 is accepting connections now, my election bind port: /127.0.0.1:22041
2020-06-22 14:18:51,099 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:18:51,099 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:51,099 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):FastLeaderElection@944] - New election. My id = 1, proposed zxid=0x0
2020-06-22 14:18:51,099 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,100 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22042
2020-06-22 14:18:51,101 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:51,101 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,101 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,101 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:51,101 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:51,101 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,101 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:18:51,102 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9111689106527610208.junit.dir\version-2\snapshot.0
2020-06-22 14:18:51,102 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:18:51,102 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,104 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,106 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:18:51,107 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:18:51,107 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2020-06-22 14:18:51,107 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 22045
2020-06-22 14:18:51,107 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-22 14:18:51,107 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-06-22 14:18:51,108 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22044:QuorumCnxManager$Listener$ListenerHandler@1065] - 2 is accepting connections now, my election bind port: /127.0.0.1:22044
2020-06-22 14:18:51,108 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:18:51,108 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 16 worker threads, and 64 kB direct buffers.
2020-06-22 14:18:51,108 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):FastLeaderElection@944] - New election. My id = 2, proposed zxid=0x0
2020-06-22 14:18:51,108 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,108 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57176
2020-06-22 14:18:51,109 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22045
2020-06-22 14:18:51,109 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,109 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,110 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,110 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,110 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-22 14:18:51,110 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,110 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-22 14:18:51,110 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-22 14:18:51,111 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-22 14:18:51,111 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,111 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-06-22 14:18:51,111 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3060989830448923626.junit.dir\version-2\snapshot.0
2020-06-22 14:18:51,112 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-22 14:18:51,112 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,113 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-22 14:18:51,115 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-06-22 14:18:51,115 [myid:] - INFO  [main:QuorumCnxManager$Listener@923] - Election port bind maximum retries is 3
2020-06-22 14:18:51,116 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2020-06-22 14:18:51,116 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:22039,127.0.0.1:22042,127.0.0.1:22045
2020-06-22 14:18:51,116 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22039
2020-06-22 14:18:51,116 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-06-22 14:18:51,116 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22047:QuorumCnxManager$Listener$ListenerHandler@1065] - 3 is accepting connections now, my election bind port: /127.0.0.1:22047
2020-06-22 14:18:51,116 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):FastLeaderElection@944] - New election. My id = 3, proposed zxid=0x0
2020-06-22 14:18:51,117 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57182
2020-06-22 14:18:51,117 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,117 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57183
2020-06-22 14:18:51,117 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22044:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57184
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,119 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,120 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,120 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,120 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,120 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1465] - LEADING
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:18:51,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3060989830448923626.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3060989830448923626.junit.dir\version-2
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 206 MS
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ZooKeeperServer@1471] - The max bytes for all large requests are set to 104857600
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ZooKeeperServer@1485] - The large request threshold is set to -1
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test670233253869992653.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test670233253869992653.junit.dir\version-2
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9111689106527610208.junit.dir\version-2 snapdir D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test9111689106527610208.junit.dir\version-2
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 214 MS
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 223 MS
2020-06-22 14:18:51,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to D:\desktop\git_repo\zookeeper-read\zookeeper-server\target\surefire\test3060989830448923626.junit.dir\version-2\snapshot.0
2020-06-22 14:18:51,323 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:18:51,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-06-22 14:18:51,323 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-06-22 14:18:51,324 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22046:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22046
2020-06-22 14:18:51,324 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22046:Learner$LeaderConnector@330] - Successfully connected to leader, using address: /127.0.0.1:22046
2020-06-22 14:18:51,326 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57196:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22043:22044:participant;127.0.0.1:22042
2020-06-22 14:18:51,326 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57195:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22040:22041:participant;127.0.0.1:22039
2020-06-22 14:18:51,329 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57195:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:18:51,331 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57196:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-22 14:18:51,331 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57196:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57195:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57196:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-06-22 14:18:51,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57195:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Learner@511] - Getting a diff from the leader 0x0
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:18:51,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Learner@677] - Learner received NEWLEADER message
2020-06-22 14:18:51,333 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,333 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-06-22 14:18:51,334 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-06-22 14:18:51,335 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 3],[2, 3]]; starting up and setting last processed zxid: 0x100000000
2020-06-22 14:18:51,336 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:18:51,336 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:18:51,336 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Learner@661] - Learner received UPTODATE message
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-22 14:18:51,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 8 worker threads.
2020-06-22 14:18:51,339 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:18:51,339 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-06-22 14:18:51,367 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22039
2020-06-22 14:18:51,368 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57197
2020-06-22 14:18:51,368 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-22 14:18:51,368 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22039 is accepting client connections
2020-06-22 14:18:51,368 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22042
2020-06-22 14:18:51,369 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57198
2020-06-22 14:18:51,369 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:18:51,370 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22042 is accepting client connections
2020-06-22 14:18:51,370 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-06-22 14:18:51,371 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57199
2020-06-22 14:18:51,371 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-22 14:18:51,371 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:22045 is accepting client connections
2020-06-22 14:18:51,371 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-06-22 14:18:51,372 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:57196",name5="id:2"
2020-06-22 14:18:51,372 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:18:51,372 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:57195",name5="id:1"
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:18:51,373 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-06-22 14:18:51,374 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-06-22 14:18:51,374 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:18:51,374 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-06-22 14:18:51,374 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:57196",name5="id:2"
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:18:51,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:57195",name5="id:1"
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-06-22 14:18:51,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-06-22 14:18:51,376 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@700] - Connecting to follower: 1
2020-06-22 14:18:51,376 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=localhost:22039 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@1a84f40f
2020-06-22 14:18:51,377 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:18:51,377 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:18:51,379 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22039.
2020-06-22 14:18:51,379 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:51,380 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:57202, server: localhost/127.0.0.1:22039
2020-06-22 14:18:51,382 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:18:51,382 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:18:51,382 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-06-22 14:18:51,382 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:18:51,383 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-06-22 14:18:51,389 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f4a1d10000
2020-06-22 14:18:51,389 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f4a1d10000
2020-06-22 14:18:51,389 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f4a1d10000
2020-06-22 14:18:51,390 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22039, session id = 0x10015f4a1d10000, negotiated timeout = 30000
2020-06-22 14:18:51,393 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=localhost:22039 sessionTimeout=30000 watcher=org.apache.zookeeper.test.FollowerResyncConcurrencyTest$MyWatcher@7920ba90
2020-06-22 14:18:51,393 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-06-22 14:18:51,394 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-22 14:18:51,394 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22039.
2020-06-22 14:18:51,394 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:18:51,395 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:57206, server: localhost/127.0.0.1:22039
2020-06-22 14:18:51,396 [myid:] - INFO  [CommitProcessor:3:LeaderSessionTracker@104] - Committing global session 0x10015f4a1d10001
2020-06-22 14:18:51,396 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x10015f4a1d10001
2020-06-22 14:18:51,396 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x10015f4a1d10001
2020-06-22 14:18:51,397 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22039, session id = 0x10015f4a1d10001, negotiated timeout = 30000
2020-06-22 14:18:51,401 [myid:] - INFO  [main:ClientCnxnSocketNIO@362] - testableCloseSocket() called
2020-06-22 14:18:51,401 [myid:] - WARN  [NIOWorkerThread-11:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:57206, session = 0x10015f4a1d10001
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:18:51,602 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22047:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57170
2020-06-22 14:18:51,602 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-22 14:18:51,602 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2020-06-22 14:18:51,602 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22044:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57169
2020-06-22 14:18:51,602 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,603 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,602 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,602 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,603 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:18:51,603 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:18:51,603 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57208
2020-06-22 14:18:51,603 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:18:51,603 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,602 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,604 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:18:51,604 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57209
2020-06-22 14:18:51,603 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,603 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:18:51,603 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:18:51,605 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,605 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:18:51,605 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,605 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,606 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,606 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,610 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22047:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57177
2020-06-22 14:18:51,610 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@513] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-22 14:18:51,610 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,610 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:18:51,610 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,610 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:18:51,610 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:18:51,610 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:18:51,611 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22044:QuorumCnxManager$Listener$ListenerHandler@1070] - Received connection request from /127.0.0.1:57210
2020-06-22 14:18:51,611 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:18:51,611 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:18:51,612 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,612 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,612 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:18:51,612 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@389] - Notification: my state:LEADING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-22 14:19:01,399 [myid:localhost:22039] - WARN  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1272] - Session 0x10015f4a1d10001 for sever localhost/127.0.0.1:22039, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.nio.channels.CancelledKeyException
	at sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:73)
	at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:77)
	at org.apache.zookeeper.ClientCnxnSocketNIO.enableWrite(ClientCnxnSocketNIO.java:377)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:353)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:19:02,532 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22039.
2020-06-22 14:19:02,532 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-22 14:19:02,532 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:57615, server: localhost/127.0.0.1:22039
2020-06-22 14:19:02,533 [myid:] - INFO  [NIOWorkerThread-14:Learner@137] - Revalidating client: 0x10015f4a1d10001
2020-06-22 14:19:02,534 [myid:localhost:22039] - INFO  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22039, session id = 0x10015f4a1d10001, negotiated timeout = 30000
2020-06-22 14:19:07,546 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f4a1d10000
2020-06-22 14:19:07,553 [myid:localhost:22039] - WARN  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x10015f4a1d10000.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f4a1d10000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:19:07,655 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f4a1d10000 closed
2020-06-22 14:19:07,655 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f4a1d10000
2020-06-22 14:19:07,657 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x10015f4a1d10001
2020-06-22 14:19:07,660 [myid:localhost:22039] - WARN  [main-SendThread(localhost:22039):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x10015f4a1d10001.
EndOfStreamException: Unable to read additional data from server sessionid 0x10015f4a1d10001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-06-22 14:19:07,760 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x10015f4a1d10001 closed
2020-06-22 14:19:07,760 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x10015f4a1d10001
2020-06-22 14:19:07,760 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled)
2020-06-22 14:19:07,761 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:19:07,761 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57195:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:19:07,761 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:19:07,761 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:19:07,761 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22046). Was connected for 16437ms. Sync state: true
2020-06-22 14:19:07,761 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57195:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57195 ********
2020-06-22 14:19:07,761 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:19:07,761 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:19:07,762 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:19:07,762 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:19:07,762 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:19:07,762 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:19:07,763 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:19:07,763 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:19:07,763 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:19:07,763 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:19:07,766 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:19:07,766 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:19:07,767 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:19:07,767 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:19:07,767 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:19:07,767 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22039:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:19:07,767 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:19:07,767 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,767 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,769 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:19:07,769 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,770 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,771 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 1
2020-06-22 14:19:07,771 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled)
2020-06-22 14:19:07,770 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-22 14:19:07,770 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,770 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,772 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-22 14:19:07,769 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,769 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,773 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-22 14:19:07,773 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 1
2020-06-22 14:19:07,773 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,772 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-22 14:19:07,772 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,776 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 2
2020-06-22 14:19:07,771 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22039)(secure=disabled) to exit thread
2020-06-22 14:19:07,775 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 1 my id = 3
2020-06-22 14:19:07,776 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled)
2020-06-22 14:19:07,777 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-06-22 14:19:07,778 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57196:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-06-22 14:19:07,778 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57196:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57196 ********
2020-06-22 14:19:07,778 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-06-22 14:19:07,778 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-22 14:19:07,778 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22046). Was connected for 16454ms. Sync state: true
2020-06-22 14:19:07,779 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):Follower@292] - shutdown Follower
2020-06-22 14:19:07,779 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:19:07,779 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:19:07,779 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:19:07,780 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:19:07,780 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-06-22 14:19:07,781 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:19:07,781 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:19:07,781 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:19:07,781 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-06-22 14:19:07,782 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:19:07,782 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:19:07,783 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:19:07,783 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:19:07,783 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:19:07,784 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22042:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:19:07,784 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,785 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,785 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:19:07,787 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:19:07,788 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,788 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1395] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1383)
2020-06-22 14:19:07,789 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-22 14:19:07,788 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1401] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-22 14:19:07,788 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,792 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 3 my id = 2
2020-06-22 14:19:07,791 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1281] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1446)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1270)
2020-06-22 14:19:07,794 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1293] - Send worker leaving thread id 2 my id = 3
2020-06-22 14:19:07,793 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled)
2020-06-22 14:19:07,794 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22042)(secure=disabled) to exit thread
2020-06-22 14:19:07,794 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled)
2020-06-22 14:19:07,794 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-06-22 14:19:07,795 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-06-22 14:19:07,795 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22046:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-22 14:19:07,795 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-06-22 14:19:07,797 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-06-22 14:19:07,798 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-06-22 14:19:07,798 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-06-22 14:19:07,798 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-06-22 14:19:07,799 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-06-22 14:19:07,799 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-06-22 14:19:07,799 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-06-22 14:19:07,799 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-06-22 14:19:07,799 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-06-22 14:19:07,799 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-06-22 14:19:07,800 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-06-22 14:19:07,800 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-06-22 14:19:07,800 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-06-22 14:19:07,800 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-06-22 14:19:07,802 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,802 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-06-22 14:19:07,802 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22045:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-22 14:19:07,803 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-06-22 14:19:07,807 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-06-22 14:19:07,807 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):Leader@792] - Shutting down
2020-06-22 14:19:07,807 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@979] - Leaving listener
2020-06-22 14:19:07,807 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-06-22 14:19:07,808 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-06-22 14:19:07,808 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-06-22 14:19:07,810 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled)
2020-06-22 14:19:07,811 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22045)(secure=disabled) to exit thread
2020-06-22 14:19:07,811 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22039
2020-06-22 14:19:09,588 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-06-22 14:19:09,610 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:19:09,610 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:19:09,617 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:19:09,617 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@471] - WorkerReceiver is down
2020-06-22 14:19:09,618 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:19:09,618 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@505] - WorkerSender is down
2020-06-22 14:19:09,815 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22039 is no longer accepting client connections
2020-06-22 14:19:09,815 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22042
2020-06-22 14:19:11,818 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22042 is no longer accepting client connections
2020-06-22 14:19:11,818 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-06-22 14:19:13,823 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:22045 is no longer accepting client connections
2020-06-22 14:19:13,823 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 120379
2020-06-22 14:19:13,824 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 53
2020-06-22 14:19:13,824 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testFollowerWatcherResync
2020-06-22 14:19:13,824 [myid:] - INFO  [main:FollowerResyncConcurrencyTest@76] - Error count 0
2020-06-22 14:19:13,824 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testFollowerWatcherResync
2020-06-22 14:19:13,824 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testFollowerWatcherResync
